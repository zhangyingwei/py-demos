软件,学报,
JOURNAL,OF,SOFTWARE
2000,Vol,11,No,P,494,501




Ada,I,支持,保护,对象,继承,Ada95,扩充,语言,陆,嘉,温,冬,婵,王,鼎,兴,摘要,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,语言,能够,帮助,程序,程序员,利用,面向,面向对象,对象,技术,编写,并发,并发程序,程序,获得,面向,面向对象,对象,技术,软件,软件开发,开发,发带,带来,种种,好处,继承,异常,异常现象,现象,存在,影响,并发,并发程序,程序,程序设计,设计,语言,引入,继承,特性,Ada95,语言,支持,并发,并发程序,程序,程序设计,设计,面向,面向对象,对象,语言,不支,支持,保护,对象,继承,Ada,I,语言,Ada95,语言,基础,上进,进行,扩充,支持,保护,对象,继承,避免,继承,异常,异常现象,现象,出现,关键,关键词,Ada95,保护,对象,继承,继承,异常,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,语言,中图,中图法,图法,分类,分类号,TP312
Ada,I,An,Extension,Language,Supporting,Inheritance,of,Protected,Objects,Based,on,Ada95
LU,Jia,WEN,Dong,chan,WANG,Ding,xing
,Department,of,Computer,Science,and,Technology,Tsinghua,University,Beijing,100084,
Abstract,Object,Oriented,concurrent,languages,can,help,programmers,to,develop,concurrent,programs,and,to,gain,benefits,by,using,object,oriented,technology,such,as,encapsulation,and,inheritance,But,inheritance,anomaly,influences,designing,object,oriented,concurrent,languages,Ada95,is,one,of,the,object,oriented,languages,that,support,concurrent,program,designing,but,it,does,not,support,the,inheritance,of,protected,objects,Ada,I,language,based,on,Ada95,supports,the,inheritance,of,protected,objects,and,can,avoid,the,inheritance,anomaly,
Key,words,Ada95,protected,object,inheritance,inheritance,anomaly,object,oriented,concurrent,language,目前,面向,面向对象,对象,技术,计算,计算机,计算机科学,算机,科学,各个领域,领域,上有,非常,广泛,应用,出现,多面,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,语言,ABCL,Presto,ACT++,继承,异常,inheritance,anomaly,现象,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,语言,不能,地支,支持,代码,复用,破坏,对象,继承,继承性,问题,学者,提出,了解,解决,解决方案,方案,Ada95,语言,少数,少数几,少数几个,几个,支持,并发,并发程序,程序,程序设计,设计,广泛,广泛应用,应用,高级,语言,定义,任务,task,类型,保护,protected,类型,一系,一系列,系列,列支,支持,并发,并发程序,程序,程序设计,设计,语法,法语,语义,Ada95,并发,并发程序,程序,任务,对象,保护,对象,单位,任务,对象,保护,对象,并发,处理,协同,完成,特定,计算,处理,任务,Ada95,任务,对象,保护,对象,统一,称为,并发,对象,Ada95,已经,顺序,顺序程序,程序,程序设计,设计,适应,面向,面向对象,对象,程序,程序设计,设计,要求,支持,继承,多态,封装,典型,面向,面向对象,对象,特性,并发,并发程序,程序,程序设计,设计,Ada95,并发,对象,具有,面向,面向对象,对象,特性,封装,性,Ada95,不支,支持,并发,对象,继承,Ada95,不能,满足,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,要求,Ada95,任务,对象,语言,描述,框架,面向,面向对象,对象,技术,对象,描述,框架,差异,较大,任务,对象,之间,过数,数据,数据共享,共享,交互,面向,面向对象,对象,技术,对象,消息,消息传递,传递,递交,交互,任务,对象,不易,抽象,出面,面向,面向对象,对象,技术,中方,方法,概念,Ada95,保护,对象,语言,描述,框架,面向,面向对象,对象,技术,对象,类似,比较,容易,引入,继承,特性,本文,文中,主要,讨论,保护,对象,继承,问题,本文,文中,Ada95,语言,提出,一个,一个支,支持,保护,对象,继承,扩充,语言,Ada,I,语言,言中,消除,继承,异常,异常现象,现象,继承,异常,异常现象,现象,继承,面向,面向对象,对象,程序,程序设计,设计,关键,概念,顺序,面向,面向对象,对象,程序,程序设计,设计,解决,代码,复用,问题,常用,方法,当前,多面,面向,面向对象,对象,技术,方便,引入,并发,并发程序,程序,程序设计,设计,进行,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,继承,不能,顺序,面向,面向对象,对象,程序,程序设计,设计,使用,方法,简单,引入,并发,并发程序,程序,程序设计,设计,导致,继承,异常,异常现象,现象,出现,也就是说,子类,不能,进行,增量,式,声明,声明,父,不具,具有,变量,方法,而其,变量,方法,继承,父,进行,代码,复用,无需,作声,声明,出现,继承,异常,异常现象,现象,子类,声明,父,不具,具备,变量,方法,不得不,不对,父,定义,方法,有方,方法,子类,重新,新定,定义,面向,面向对象,对象,并发,系统,多个,消息,访问,一个,并发,对象,对象,之间,消息,消息传递,传递,具有,不确定性,确定,确定性,定性,保证,并发,对象,完整,完整性,并发,对象,数据,一致,一致性,每个,并发,对象,对接,接收,收到,消息,通常,运行,条件,检查,运行,行相,相应,方法,运行,相应,状态,转换,步骤,处理,并发,对象,当前,状态,不满,满足,接收,消息,运行,条件,并发,对象,处理,理该,消息,并发,对象,状态,满足,消息,条件,满足,接收,消息,运行,条件,并发,对象,状态,称为,消息,纳,状态,acceptable,states,消息,纳,状态,总和,称为,并发,对象,纳,状态,集,Matsuoka,Yonezawa,文献,中分,分析,并发,对象,继承,异常,异常现象,现象,出现,原因,认为,并发,对象,继承,异常,问题,出现,是因为,子类,对象,继承,父,对象,方法,增加,新方,方法,改变,父,对象,纳,状态,集,情况,处理,纳,状态,相关,运行,条件,检查,检查和,状态,转换,对象,方法,紧密,相关,导致,需要,重新,改写,父,对象,方法,满足,新,运行,条件,检查,检查和,状态,转换,要求,文献,纳,状态,改变,分成,以下,纳,状态,集,重新,划分,纳,状态,集,历史,相关,纳,状态,集,扩充,修改,下面,C++,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,语言,继承,异常,异常现象,现象,出现,原因,简单,介绍,纳,状态,集,重新,划分,每个,并发,对象,运行,考虑,一系,一系列,系列,状态,转换,一个,状态,并发,对象,有变,变量,当前,取值,构成,并发,对象,一个,方法,接收,收条,条件,对应,消息,纳,状态,形成,纳,状态,集,一个,划分,有界,队列,Buffer,有界,队列,列有,两个,基本,本方,方法,get,队列,取,一个,元素,put,x,元素,x,放入,入队,队列,显然,队列,元素,个数,队列,空,get,不能,运行,队列,满,put,x,不能,运行,得到,有界,队列,纳,状态,集,一个,划分,empty,partial,full,相应,应为,队列,空,队列,半,满,队列,满,有界,队列,Buffer,基类,派生,一个,新,子类,SubBuffer,子类,增加,一个,新,方法,get2,队列,取出,两个,元素,显然,队列,中元,元素,个数,get2,不能,运行,get,put,x,依然,能够,运行,看出,子类,SubBuffer,纳,状态,集,父,Buffer,相比,一个,get2,纳,状态,one,子类,SubBuffer,父,纳,状态,集,进行,新,划分,empty,one,partial,full,图,所示,

Fig,Repartition,of,acceptable,states,set
,图,纳,状态,集,重新,划分,看到,子类,SubBuffer,重写,父,已有,方法,不能,直接,继承,出现,继承,异常,异常现象,现象,纳,状态,集,历史,相关,纳,状态,集,历史,相关,指,子类,派生,新方,方法,父,方法,运行,次序,相关,有界,队列,Buffer,基类,派生,一个,新,NewBuffer,新,增加,一个,新,方法,gget,运行,条件,运行,之前,连续,两个,put,x,方法,运行,图,所示,描述,gget,纳,状态,需要,重新,描述,父,get,put,x,方法,导致,出现,继承,异常,异常现象,现象,

Fig,History,relation,of,acceptable,states,set
,图,纳,状态,集,历史,相关,纳,状态,集,扩充,修改,子类,SubBuffer,没有,扩充,修改,父,纳,状态,集,改变,纳,状态,集,划分,需要,基类,Buffer,派生,生出,一个,新,子类,LockBuffer,个子,子类,引入,一个,新,条件,是否,加锁,已经,加锁,方法,get,put,x,不能,运行,没有,有加,加锁,运行,方法,get,put,x,可运,运行,条件,增加,也就是说,相应,纳,状态,集,扩充,采用,图,图,相同,语言,描述,方法,不会,出现,继承,异常,异常现象,现象,说明,问题,采用,新,语言,描述,方法,图,所示,这种,描述,方法,父,方法,需要,重新,新定,定义,出现,继承,异常,异常现象,现象,

Fig,Modification,of,acceptable,states,set
,图,纳,状态,集,修改,扩充,个例,例子,看到,不同,语言,描述,方法,出现,继承,异常,异常现象,现象,原因,不同,保护,对象,保护,对象,象是,Ada95,语言,新增,增加,语言,成分,描述,专门,对象,服务,并发,对象,保护,对象,结构,程序,程序包,任务,结构,相似,说明,不同,保护,对象,说明,部分,分给,给出,出访,访问,权限,给出,实现,细节,程序,程序包,任务,不一,保护,对象,不能,说明,数据,只能,说明,明子,子程序,程序,实体,数据,必须,放在,私有,部分,分说,说明,保护,对象,保护,类型,声明,保护,类型,保护,对象,之间,关系,面向,面向对象,对象,语言,言中,对象,实例,相同,保护,对象,操作,分为,保护,子程序,程序,保护,入口,保护,子程序,程序,分为,过程,函数,过程,函数,入口,关键,关键字,procedure,function,entry,说明,过程,任意,方式,访问,私有,有数,数据,函数,数则,只能,能读,私有,有数,数据,入口,任意,访问,私有,有数,数据,带有,入口,限制,条件,满足,限制,条件,情况,保护,对象,运行,行相,相应,入口,扩充,语言,言方,方案,Ada95,顺序,顺序程序,程序,程序设计,设计,支持,面向,面向对象,对象,程序,程序设计,设计,支持,继承,多态,封装,典型,面向,面向对象,对象,特性,并发,并发程序,程序,程序设计,设计,Ada95,不能,全面,支持,面向,面向对象,对象,程序,程序设计,设计,任务,对象,保护,对象,支持,封装,不支,支持,继承,保护,对象,语言,描述,特性,典型,面向,面向对象,对象,程序,程序设计,设计,语言,描述,特性,性相,相似,数据,私有,多种,操作,独立,描述,Ada95,语言,基础,保护,对象,增加,支持,继承,特性,设计,Ada,I,语言,这种,语言,描述,方法,基础,消除,继承,异常,异常现象,现象,保护,类型,声明,Ada,I,保护,类型,声明,Ada95,类似,类型,说明,类型,构成,类型,说明,声明,保护,类型,可调,调用,操作,内部,数据,类型,声明,操作,实现,保护,类型,派生,生子,子类,类型,Ada,I,语言,简单,单易,易懂,支持,继承,不支,支持,继承,子类,类型,父,类型,中继,继承,父,类型,变量,操作,子类,类型,只定,定义,不同,不同于,同于,父,类型,变量,操作,子类,类型,增加,父,类型,没有,变量,操作,子类,类型,重新,新定,定义,义父,类型,变量,操作,子类,类型,声明,类型,说明,采用,关键,关键字,inherit,说明,子类,类型,是从,父,类型,派生,生出,类型,说明,声明,父,类型,没有,变量,操作,需要,重新,新定,定义,操作,子类,类型,类型,说明,中所,提及,操作,实现,现在,类型,中加,声明,子类,类型,声明,语言,描述,protected,type,子类,类型,标识,标识符,inherit,父,类型,标识,标识符,is,类型,说明,父,类型,未定,未定义,定义,操作,子类,类型,重新,新定,定义,父,类型,已有,操作,private
,父,类型,未定,未定义,定义,数据,end,子类,类型,标识,标识符,保护,类型,操作,描述,Ada95,中原,原来,保护,对象,操作,描述,方法,图,描述,法相,相类,类似,导致,继承,异常,异常现象,现象,发生,消除,继承,异常,异常现象,现象,改变,保护,对象,原来,描述,方法,保护,对象,过程,操作,入口,操作,具有,一定,相似,相似性,差别,过程,操作,没有,运行,条件,检查,入口,操作,需要,运行,行前,前进,进行,行运,运行,条件,检查,进行,行运,运行,条件,检查,入口,操作,代替,替过,过程,操作,Ada,I,中保,保护,对象,函数,入口,两类,操作,保护,对象,原来,入口,操作,分成,两个,部分,运行,条件,检查,检查和,操作,运行,行动,动作,Ada,I,中分,关键,关键字,condition,action,说明,condition,action,理解,保护,类型,入口,操作,两种,种属,属性,属性,condition,一个,条件,表达,表达式,达式,属性,action,一系,一系列,系列,动作,Ada,I,中保,保护,对象,入口,操作,基本,描述,结构,entry,标识,标识符,参数,参数表,数表,is
,begin
,condition
,begin
,入口,条件,表达,表达式,达式,end,condition,action
,begin
,操作,运行,行动,动作,end,action,end,Ada,I,保护,对象,入口,调用,保护,对象,检查,入口,条件,表达,表达式,达式,条件,表达,表达式,达式,继续,继续执行,执行,action,描述,运行,行动,动作,入口,调用,排队,等待,condition,缺省,Condition,缺省,表示,入口,条件,永,不作,入口,条件,检查,缺省,condition,描述,入口,操作,相当,相当于,当于,Ada95,过程,操作,Ada,I,中保,保护,对象,函数,操作,Ada95,没有,运行,条件,检查,多个,函数,操作,之间,并发,发运,运行,有界,队列,列为,描述,图,所示,

Fig,Bounded,buffer
,图,有界,队列,操作,代码,复用,实现,操作,代码,复用,子类,类型,操作,中直,直接,接引,引用,父,类型,操作,引入,描述,父,类型,操作,子类,类型,操作,关系,关键,关键字,super,用以,表示,父,类型,Super,关键,关键字,入口,操作,condition,声明,部分,action,声明,部分,表示,子类,类型,入口,操作,condition,action,中分,继承,相应,父,类型,入口,操作,相应,部分,condition,部分,使用,语言,描述,
super,父,类型,操作,标识,标识符,condition
,action,部分,使用,语言,描述,
super,父,类型,操作,标识,标识符,action
,condition,部分,使用,表示,继承,父,类型,入口,操作,condition,条件,表达,表达式,达式,表达,表达式,达式,条件,表达,表达式,达式,进行,一定,布尔,布尔运算,运算,即可,进行,运算,and,or,not,表示,action,部分,使用,表示,继承,父,类型,入口,操作,action,动作,子类,类型,重新,新定,定义,一个,父,类型,入口,操作,描述,过程,需要,condition,action,两部,部分,重新,说明,缺省,condition,action,一部,一部分,部分,表示,相应,部分,父,类型,中继,继承,有界,队列,Buffer,派生,生子,子类,类型,LockBuffer,子类,类型,引入,一个,条件,是否,加锁,两个,操作,加锁,lock,开锁,unlock,队列,锁,get,put,不能,操作,队列,开锁,图,所示,子类,类型,LockBuffer,condition,采用,super,get,super,put,表示,父,类型,Buffer,get,put,入口,条件,表达,表达式,达式,重写,get,put,入口,条件,缺省,action,表达,父,类型,动作,代码,复用,

Fig,Locked,bounded,buffer
,图,加锁,有界,队列,看到,Ada,I,子类,类型,最大,大限,大限度,限度,继承,父,类型,操作,需要,重新,新定,定义,义父,类型,操作,消除,继承,异常,异常现象,现象,节,分析,出现,继承,异常,异常现象,现象,原因,Ada,I,有效,消除,原因,引起,继承,异常,异常现象,现象,提高,代码,复用,效率,Ada,I,保护,对象,操作,代码,分为,两部,部分,condition,action,两部,部分,进行,代码,复用,运行,行前,检查,条件,变化,引起,继承,异常,异常现象,现象,过重,重新,新定,定义,操作,condition,部分,分得,得以,解决,无需,重新,新定,定义,操作,动作,部分,纳,状态,集,重新,划分,纳,状态,集,扩充,修改,父,方法,子类,运行,条件,发生,发生变化,生变,变化,引起,图,所示,Ada,I,消除,纳,状态,集,扩充,修改,引起,继承,异常,异常现象,现象,图,所示,消除,纳,状态,集,重新,划分,分所,引起,继承,异常,异常现象,现象,纳,状态,集,历史,相关,引起,继承,异常,异常现象,现象,图,所示,子类,类型,操作,action,部分,分分,分成,两个,步骤,super,引用,父,类型,操作,引入,新,变量,进行,处理,复用,父,类型,操作,condition,部分,代码,action,部分,代码,不必,代码,子类,类型,重写,一遍,

Fig,Bounded,buffer,for,get2
,图,增加,get2,有界,队列,

Fig,New,bounded,buffer,图,新,有界,队列,上面,简单,分析,例子,看出,Ada,I,保护,类型,对象,继承,消除,继承,异常,异常现象,现象,或者说,最大,大限,大限度,限度,进行,代码,复用,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,语言,能够,帮助,程序,程序员,利用,面向,面向对象,对象,技术,编写,并发,并发程序,程序,获得,面向,面向对象,对象,技术,软件,软件开发,开发,发带,带来,种种,好处,继承,异常,异常现象,现象,存在,影响,并发,并发程序,程序,程序设计,设计,语言,引入,继承,特性,Ada95,语言,支持,并发,并发程序,程序,程序设计,设计,面向,面向对象,对象,语言,不支,支持,保护,对象,继承,Ada95,语言,基础,设计,Ada,I,语言,支持,保护,对象,继承,避免,继承,异常,异常现象,现象,出现,Ada,I,语言,保护,类型,入口,操作,分为,运行,条件,描述,运行,行动,动作,两部,部分,两部,部分,分作,入口,操作,两种,种属,属性,子类,类型,中加,引用,程序,程序员,提供,灵活,易用,描述,手段,进行,面向,面向对象,对象,并发,并发程序,程序,程序设计,设计,陆,嘉,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084,温,冬,婵,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084,王,鼎,兴,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084,参考,参考文献,文献,Matsuoka,S,Yonezawa,A,Analysis,of,inheritance,anomaly,in,object,oriented,concurrent,languages,In,Agha,G,Wegner,P,Yonezawa,A,eds,Research,Directions,in,Concurrent,Object,Oriented,Programming,Cambridge,MA,MIT,Press,1993,107,150
2,Neusius,C,Synchronizing,actions,In,America,P,ed,Proceedings,of,the,ECOOP,91,Berlin,Springer,Verlag,1991,118,132
3,Meseguer,Jos,Solving,the,inheritance,anomaly,in,concurrent,object,oriented,programming,In,Nierstrasz,O,ed,Proceedings,of,the,ECOOP,93,Berlin,Springer,Verlag,1993,220,246
4,Frolund,S,Inheritance,of,synchronization,constraints,in,concurrent,object,oriented,programming,languages,In,Madsen,O,ed,Proceedings,of,the,ECOOP,92,Berlin,Springer,Verlag,1992,185,196
