微型,微型机,应用,
MICROCOMPUTER,ITS,APPLICATIONS
1999,18,卷,Vol,18,No,1999



,PC,总线,高精度,精度,频率,测量,卡,设计,张,志,明,李,蓉,艳,摘,本文,应用,精度,测,频,原理,设计,PC,总线,高精度,精度,频率,测量,卡,克服,直接,测,频,法,低频,频段,精度,高,缺陷,实现,整个,测量,频段,保持,高精度,精度,不变,目标,给出,精度,测,频,电路,电路图,软件,功能,子程序,程序,图,关键,关键词,PC,总线,频率,测量,精度,测量,PC,集成,仪器,谐振,式,传感,传感器,感器,利用,某种,谐振,谐振器,固有,固有频率,频率,测,物理,物理量,力场,压力,加速,加速度,速度,电场,磁场,温度,气体,体量,变化,变化,原理,精确,精确测量,测量,频率,变化,度量,上述,物理,物理量,变化,因其,输出,信号,频率,型,信号,具有,适合,远距,远距离,距离,传输,数字,计算,计算机,计算机系,计算机系统,算机,机系统,系统,连接,抗干扰,抗干扰性,干扰,性,优点,本文,介绍,传感,传感器,感器,频率,信号,检测,检测仪,测仪,微机,机系统,系统,相结合,结合,精确,精确测量,测量,谐振,式,传感,传感器,感器,输出,频率,信号,转换,换为,测量,具有,有数,数据,数据处理,处理,存储,功能,测量,卡,可作,电子,通用,用计,计数,计数器,使用,工作,原理,高精度,精度,频率,测量,频率,信号,检测,检测仪,测仪,关键,传统,直接,测,频,法,测,频率,信号,阀门,时间,不同,同步,存在,较大,计数,误差,误差,整个,频率,测量,测量范围,范围,测,频,精度,影响,不同,特别,低频,测,频,精度,低,采用,精度,测,频,法,克服,缺点,原理,采用,多周,周期,同步,步测,测量,原理,整数,数个,测,信号,周期,期内,计数,频,标,信号,运算,算求,求得,测,频率,采用,这种,方法,整个,频率,范围,可获,获得,同样,高,精度,分辨,分辨率,辨率,


,图,精度,频率,测量,测量法,时序,图,图,精度,测,频,法,时序,图,测,频,预置,门,打开,测,频,允许,信号,有效,TQ,计数,阀门,立即,打开,计数,计数器,A,B,没有,立即,计数,此后,测,信号,有效,到来,打开,计数,阀门,计数,计数,阀门,时间,预定,发出,预置,门,关闭,测,频,允许,无效,信号,TQ,时计,计数,阀门,仍未,关闭,计数,计数器,A,B,没有,停止,计数,此后,一个,测,信号,有效,到来,关闭,计数,阀门,停止,计数,实际,阀门,时间,T,保证,测,信号,阀门,时间,同步,显然,时间,T,A,计数,计数器,测,信号,计数,数值,NA,B,计数,计数器,时钟,频,标,信号,计数,数值,NB,NA,Fx,T
,NB,F0,T
,测,信号,频率,Fx,F0,NA,NB
,分析,可知,测,信号,阀门,信号,同步,保证,阀门,时间,T,准确,等于,测,信号,周期,整数,整数倍,数倍,计数,数值,NA,没有,计数,误差,精度,测,频,法,误差,差可,表示,Fx,Fx,F0,F0+,NB,NB
,上式,可知,精度,测,频,法,误差,主要,项,频,标,信号,误差,F0,F0,B,计数,计数器,计数,误差,NB,NB,时钟,频,标,信号,F0,高,10MHz,基数,NB,B,计数,计数器,字,误差,NB,引起,计数,误差,NB,NB,很小,基准,晶体,晶体振荡,晶体振荡器,振荡,振荡器,精度,高,频,标,信号,误差,F0,F0,很小,精度,测,频,法,具有,高,精度,看出,输入,信号,噪声,触发,误差,频,标,误差,差可,忽略,忽略不计,不计,情况,精度,测,频,误差,取决,取决于,频,标,信号,计数,测量,测量误差,误差,测,信号,频率,无关,整个,频率,测量,测量范围,范围,测量,精度,均等,分辨,分辨率,辨率,高,普通,计数,计数器,频率,频率计,电路,相比,采用,精度,测,频,原理,电路,结构,结构复杂,复杂,体积,庞大,微型,计算,计算机,算机,实现,运算,控制,功能,简单,方便,利用,利用软件,软件,复杂,硬件,电路,本文,文论,论述,频率,信号,检测,测系统,系统,以此,此为,原则,PC,微机,机系统,系统,相结合,结合,设计,硬件,电路,智能,精度,频率,信号,检测,测系统,系统,硬件,主要,部分,电路,组成,PC,微机,接口,电路,输入,信号,通道,包括,耦,隔离,通道,耦,信号,通道,通道,选,门,同步,门电路,电路,包括,同步,门,同步,门控,控制,控制器,阀门,时间,控制,控制器,计数,计数器,包括,事件,计数,计数器,时间,计数,计数器,频,标,发生,电路,石英,晶体,TCXO,振荡,振荡电路,电路,外部,频,标,接口,系统,整机,机框,框图,图,


,图,精度,频率,频率计,整机,机框,框图,下面,实现,精度,测,频,原理,主要,电路,同步,门电路,电路,计数,计数器,部分,分作,说明,输入,信号,频,标,信号,74HC14,施密特,特高,高速,反相,反相器,相器,缓冲,同步,门,同步,门控,控制,控制器,同步,进入,计数,计数器,电路,进行,计数,精度,频率,测量,测量法,设计,电路,采用,计数,计数器,测,信号,Fx,频,标,信号,F0,计数,同步,门控,控制,控制电路,电路,保证,阀门,开启,时间,测,信号,同步,同步,门,同步,门控,控制,控制器,同步,门控,控制,控制器,一个,带,预置,清除,D,触发,触发器,发器,D,端接,阀门,测量,时间,控制,信号,CLR,端接,复位,信号,Q,端,输出,出门,门控,信号,控制,同步,门,门,74HC08,测,信号,发送,发送至,送至,D,触发,触发器,发器,CLK,端,同步,门,输入,端,起到,同步,同步控制,控制,制作,作用,

,图,同步,门,同步,门控,控制,控制器,阀门,时间,控制,控制器,CTC8254,通道,前级,分频,计数,计数器,74HC393,组成,测量,电路,提供,预置,阀门,信号,时间,预置,阀门,01,10,0s,任选,预置,阀门,时间,长,CTC,通道,单位,时间,循环,循环体,循环,次数,软件,控制,计数,计数器,频率,测量,部分,仪器,关键,可编,可编程,编程,三通,通道,CTC8254,计数,计数器,前级,计数,计数器,组成,CTC8254,共有,计数,通道,时间,计数,计数器,NA,事件,计数,计数器,NB,阀门,时间,定时,定时器,NC,用于,测,频率,信号,Fx,频,标,信号,F0,计数,阀门,时间,TQ,定时,准确,求得,频率,CTC8254,计数,计数器,输出,端,微机,中断,中断请求,请求,信号,信号线,相连,计数,溢出,8254,输出,出脉冲,脉冲,信号,引起,中断,使用,硬件,计数,避免,使用,软件,计数,计数器,带来,时间,时间误差,误差,硬件,计数,计数器,溢出,限制,采用,软硬,软硬件,硬件,结合,方法,扩展,计数,范围,8254,计数,计数器,回,零,溢出,出进,进位,发生,PC,机,硬件,中断,CPU,响应,中断,断后,中断,服务,服务程序,程序,相应,计数,计数器,进行,最后,级,软件,计数,

,图,精度,测,频,原理,电路,电路图,图,精度,测,频,原理,电路,电路图,体测,测量,过程,测量,程序,计数,计数器,清零,清,硬件,计数,计数器,相应,RAM,单元,控制,CPU,发出,复位,控制,信号,12H,74LS174,复位,同步,门控,控制,控制器,74HC74,清零,前级,分频,计数,计数器,IC1,IC2,禁止,CTC8254,三通,通道,计数,计数器,计数,D,触发,触发器,发器,门控,信号,Q,端,处于,低电平,电平,测量,阀门,时间,控制,信号,D,端,D0,线,低电平,电平,Q,端,D,端,逻辑,状态,相同,触发,触发器,发器,处于,闭锁,状态,测,信号,到达,D,触发,触发器,发器,CLK,端,不能,翻转,同步,门,门,74HC08,处于,关闭,状态,频,标,信号,测,信号,均,不能,进入,计数,计数器,计数,测量,CPU,程序,发出,指令,0DH,测量,阀门,时间,控制,信号,低电平,电平,跳变,变为,高电平,电平,D,端,变为,高电平,电平,测,信号,上升,到达,CLK,端,触发,触发器,发器,立即,翻转,Q,端,D,端,逻辑,状态,相同,变为,高电平,电平,触发,触发器,发器,解除,闭锁,同步,门,置,打开,允许,信号,进入,计数,计数器,计数,CTC8254,计数,计数器,前级,计数,计数器,IC1,IC2,允许,计数,硬件,阀门,时间,定时,定时器,计数,测量,预置,阀门,时间,同步,门,打开,测,信号,时间,信号,施密特,反相,反相器,相器,74HC14,整形,后分,进入,相应,计数,计数器,进行,计数,计数,过程,同步,门控,控制,控制器,D,触发,触发器,发器,74HC74,D,端,保持,高电平,电平,触发,触发器,发器,再次,处于,闭锁,状态,Q,端,输出,保持,高电平,电平,同步,门,保持,开门,状态,测量,预置,阀门,时间,以后,CPU,发出,控制,信号,1CH,测量,阀门,时间,控制,信号,恢复,低电平,电平,同步,门控,控制,控制器,D,输入,端,低电平,电平,同步,门,时钟,端,测,信号,连在,连在一起,一起,一个,测,信号,上升,到来,测,信号,再次,触发,D,触发,触发器,发器,翻转,输出,端,Q,低电平,电平,同步,门,关闭,CPU,发出,控制,信号,同步,门,关闭,期间,事件,计数,计数器,时间,计数,计数器,继续,计数,同步,门,关闭,停止,计数,CPU,检测,同步,门,关闭,信号,信号线,电平,检测,测到,同步,门,已经,关闭,总线,接口,读入,前级,硬件,计数,计数器,计数,数值,级,软件,计数,数值,构成,一组,完整,计数,数值,转换,换为,规格,规格化,数据,进行,行运,运算,数据,数据处理,处理,显示,显示器,显示,过数,数据,数据处理,处理,测量,下次,测量,过程,重复,上述,过程,测量,量程,程序,程序流程,流程,智能,频率,测量,卡,软件,采用,BORLAND,C++3,模块,模块化,结构,结构设计,构设,设计,整个,软件,顶向下,向下,分层,分块,设计,每个,模块,完成,一项,功能,功能,子程序,程序,图,如要,扩充,功能,编写,相应,功能,子程序,程序,程序模块,模块,加入,即可,

,图,精度,频率,频率计,软件,功能,子程序,程序,图,进一步,一步,利用,利用微,微机,资源,微机,BIOS,INT,15H,扩展,功能,实时,时时,时钟,周期,期中,中断,来作,预置,阀门,时间,定时,定时器,8254,通道,前级,计数,计数器,硬件,设计,更为,简单,建立,允许,中断,标志,微机,实时,时时,时钟,每隔,976,562,s,间隔,产生,实时,时时,时钟,中断,中断请求,请求,信号,引发,发硬,硬件,中断,中断请求,请求,IRQ8,中断,服务,服务程序,程序,判断,32,事件,等待,计数,计数器,计数,数值,是否,设定,等待,等待时间,时间,用户,指定,标记,单元,置,80H,即可,可设,设定,等待,等待时间,时间,预置,阀门,时间,标记,单元,预置,时间,标志,完成,预置,阀门,事件,定时,定时器,功能,型号,微机,机上,均,实现,正常,工作,样机,调试,高精度,精度,频率,信号,测量,卡,以下,特点,采用,精度,测,频,法,测量,精度,精度高,同一,阀门,时间,频率,测量,精度,相等,频,标,信号,稳定,稳定度,10,阀门,时间,10s,测,频,精度,可达,10,测量,阀门,时间,01,10,0s,任意,设置,测,频,范围,1Hz,40MHz,输入,频率,信号,全程,灵敏,灵敏度,敏度,50mV,微机,结合,智能,智能化,程序,高,具有,有数,数据,记忆,忆及,处理,能力,高,稳定,稳定度,频,标,信号,信号源,号源,测,频,精度,可进,进一步,进一步提高,一步,提高,适用,用于,频率,输出,型,传感,传感器,感器,作者,单位,张,志,明,西安,安西,西北,西北工业大学,工业,业大,大学,519#,信箱,710072,李,蓉,艳,西安,微电子,电子,电子技术,技术,研究,研究所,710054,参考,参考文献,文献,陈,微机,机电,电子,电子仪器,仪器,实用,设计,北京,水利,水利电力,电力,出版,出版社,张,学,庄,电子,电子仪器,仪器,测量,原理,北京,人民,人民邮电,人民邮电出版社,邮电,出版,出版社,董,渭,清,王,招,高档,微机,接口,接口技术,口技,技术,应用,西安,西安,西安交通,西安交通大学,交通,大学,出版,出版社,收稿,日期,1998,07,13