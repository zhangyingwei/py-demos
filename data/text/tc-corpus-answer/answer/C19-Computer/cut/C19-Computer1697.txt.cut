软件,学报,
JOURNAL,OF,SOFTWARE
2000,Vol,11,No,P,481,487




,面向,面向对象,对象,Z,子类,类型,继承,推理,规则,王,峰,李,必,信,郑,国,梁,摘要,讨论,COOZ,complete,object,oriented,Z,继承,关系,继承,分为,增量,继承,子类,类型,类型化,继承,并重,重点,讨论,子类,类型,类型化,继承,定义,一种,行为,子类,类型,类型化,继承,证明,方法,合理,合理性,理性,定义,COOZ,规约,继承,规约,继承,推理,规则,讨论,子类,类型,类型化,方法,E,Cusack,方法,法相,相比,具有,构造,构造性,Liskov,方法,具有,更,灵活,灵活性,活性,关键,关键词,形式,方法,面向,面向对象,对象,继承,子类,类型,形式,规约,中图,中图法,图法,分类,分类号,TP311
On,Subtyping,Inheritance,and,Inference,Rules,in,Object,Oriented,Z
WANG,Yun,feng
,tate,Key,Laboratory,for,Novel,Software,Technology,Nanjing,University,Nanjing,210093,Meteorology,College,PLA,University,of,Technology,Nanjing,University,Nanjing,211101,
LI,Bi,xin
,tate,Key,Laboratory,for,Novel,Software,Technology,Nanjing,University,Nanjing,210093,
ZHENG,Guo,liang
,tate,Key,Laboratory,for,Novel,Software,Technology,Nanjing,University,Nanjing,210093,
Abstract,The,inheritance,relation,of,COOZ,is,discussed,It,is,divided,into,increasing,inheritance,and,subtyping,inheritance,The,latter,is,studied,and,a,behavioral,subtyping,inheritance,is,defined,by,which,the,specification,inheritance,and,its,inference,rules,are,defined,The,soundness,of,the,method,is,proved,The,offered,method,is,constructive,compared,with,that,of,E,Cusack,and,is,more,flexible,than,that,of,Liskov,et,al,
Key,words,Formal,method,object,oriented,inheritance,subtyping,formal,specification,形式,方法,面向,面向对象,对象,方法,法相,相结合,结合,已成,成为,软件,软件开发,开发,开发方法,方法,研究,一个,重要,方向,90,年代,初,形式,规约,语言,Z,进行,面向,面向对象,对象,扩充,成为,研究,热点,先后,产生,若干,若干个,Z,面向,面向对象,对象,扩充,版本,COOZ,complete,object,oriented,Z,分析,以往,Z,面向,面向对象,对象,扩充,基础,采用,更为,为先,先进,合理,技术,Z,进行,面向,面向对象,对象,扩充,Z,进行,面向,面向对象,对象,扩充,形式,方法,面向,面向对象,对象,方法,法相,相得,相得益彰,得益,彰,OO,方法,关系,构造,技术,Z,适宜,描述,大型,复杂,系统,Z,数学,特性,规约,进行,推理,计算,保证,规约,正确,正确性,继承,面向,面向对象,对象,方法,最重,重要,概念,继承,用于,两个,行为,继承,实现,继承,行为,继承,规约,继承,一种,强子,子类,类型,类型化,继承,任意,一处,父,对象,均,子类,对象,代替,实现,继承,增量,继承,修改,已有,派生,生出,出新,体现,复用,代码,共享,实现,子类,类型,类型化,化时,多种,方法,多面,面向,面向对象,对象,语言,实现,继承,增加,约束,约束条件,条件,实现,子类,类型,类型化,约束,约束条件,条件,方法,型,构,定义,约束,约束条件,条件,应用,子类,类型,多态,不致,出现,运行,错误,不能,保证,语义,语义上,一致,定义,义子,子类,类型,类型化,目的,已知,父,属性,功能,父,规约,对子,子类,进行,推理,直接,利用,已知,信息,增强,复杂,系统,功能,进行,推理,能力,子类,类型,对象,具有,有所,父,属性,行为,保证,子类,类型,对象,代替,替父,对象,成为,一种,精化,手段,其三,保证,COOZ,规约,验证,模块,模块性,方法,m,验证,父,类型,对象,规约,子类,类型,对象,代替,替父,类型,对象,对象,规约,发生,改变,应该,新,规约,重新,验证,m,意味,意味着,继承,原有,代码,规约,均,重新,验证,不必,不必要,必要,以定,定义,一种,模块,模块化,验证,方法,方法,基础,规约,继承,下面,面对,COOZ,继承,关系,讨论,继承,分为,派生,子类,类型,类型化,两种,方式,给出,形式,定义,重点,讨论,具有,较大,灵活,灵活性,活性,一种,种子,子类,类型,类型化,继承,定义,规约,继承,方法,讨论,方法,合理,合理性,理性,利用,规约,子类,类型,关系,进行,推理,给出,逻辑,COOZ,继承,推理,规则,COOZ,简介,COOZ,一种,面向,面向对象,对象,形式,规约,语言,模式,class,schema,表示,

,模式,名,参数,父,列表,对象,接口,局部,定义,状态,模式,初始,初始化,模式,方法,模式,表示,对象,实时,历史,约束,不变,不变式,组成,模式,详细,细语,语法,语义,文献,每个,模式,Anonymous,State,Schema,无名,名状,状态,模式,描述,类属,属性,不变,不变式,描述,该类,对象,状态,空间,继承,无名,名状,状态,模式,自动,合并,模式,多个,方法,模式,对象,接受,消息,必须,方法,模式,说明,无名,名状,状态,模式,自动,引入,该类,对象,方法,模式,继承,同名,名模,模式,进行,合并,原则,同名,名方,方法,模式,进行,合并,模式,合并,含义,模式,合取,COOZ,继承,派生,子类,类型,类型化,继承,分为,增量,继承,子类,类型,类型化,继承,两种,增量,继承,意义,派生,继承,已有,基础,构造,新,重用,现有,规约,基础,子类,类型,类型化,继承,一个,一个,基础,可作,精化,化机,化机制,机制,下面,别讨,讨论,两种,继承,且为,规约,精化,实现,语言,C++,相适,相适应,适应,引入,一种,类型,子类,子类,类型,子类,类型,类型化,继承,方法,增量,继承,派生,增量,继承,现有,定义,增加,方法,变量,构成,新,过程,增量,继承,不能,保证,派生,派生类,对象,父,对象,不能,保证,派生,派生类,父,子类,类型,简化,扩展,Cusack,E,继承,定义,A,状态,模式,SA,XA,SA,状态,空间,Oj,A,j,方法,B,状态,模式,SB,XB,SB,状态,空间,Pj,B,j,方法,SB,SA,实例,文献,定义,存在,映射,f,XB,XA,SB,实例,映射,射到,SA,实例,完整,完整性,定义,Oj,可看,看成,XA,之间,关系,R,Oj,显然,R,Oj,XA,XA,同样,可得,R,Pj,XB,XB,相应,f,可得,映射,f,f,XB,XB,XA,XA,相应,A,方法,Oj,Pj,显,式,定义,有无,派生,派生类,定义,定义,B,状态,模式,SB,实例,A,状态,模式,SA,实例,存在,映射,f,XB,XA,B,方法,Pj,下式,定义,
R,Pj,f,f,R,Oj,XfB,XfB,B,A,派生,派生类,R,Pj,f,f,空,Pj,B,无定,定义,定义,极为,严格,继承,定义,定义,子类,不能,修改,父,方法,事实,事实上,增量,继承,相当,相当于,当于,宏,定义,模式,继承,语句,展开,实际,语句,可得,得到,没有,继承,关系,规约,子类,类型,类型化,继承,E,Cusack,定义,子类,类型,类型化,继承,一种,构造,构造性,方法,限制,子类,类型,修改,父,类型,方法,S,Drossoplou,提出,ST,T,子类,类型,类型化,方法,一种,弱,子类,类型,类型化,方法,满足,子类,类型,类型化,语法,约束,保证,子类,类型,表达,表达式,达式,代替,替父,类型,表达,表达式,达式,类型,不出,出错,不能,保证,子类,类型,对象,行为,父,类型,对象,一致,事实,事实上,类型,检查,只能,查出,程序,部分,错误,类型,正确,不能,保证,行为,正确,达到,前述,子类,类型,类型化,目的,需要,定义,一种,行为,子类,类型,类型化,概念,满足,子类,类型,类型化,语法,约束,满足,子类,类型,类型化,语义,约束,保证,子类,类型,对象,行为,父,类型,对象,一致,保证,子类,类型,对象,代替,替父,类型,对象,不会,出现,超出,父,行为,规约,行为,意外,外行,行为,比较,子类,类型,父,类型,扩展,文献,映射,存在,子类,类型,关系,集合,X,Y,X,Y,符号,表示,子类,类型,关系,存在,模拟,函数,fX,Y,X,Y,判断,子类,类型,类型化,继承,既要,比较,类型,状态,模式,比较,类型,方法,模式,比较,类型,状态,模式,比较,类型,状态,空间,不变,不变式,IX,vz,表示,类型,X,不变,不变式,vX,表示,X,取值,比较,方法,模式,表示,类型,S,T,方法,m,输入,变量,类型,表示,类型,S,T,方法,m,输出,变量,类型,表示,S,方法,m,前置,前置条件,条件,表示,S,方法,m,后置,条件,X,表示,X,X,操作,操作前,变量,下面,给出,一种,种子,子类,类型,类型化,继承,定义,定义,行为,子类,类型,类型化,继承,类型,S,类型,T,子类,类型,当下,下列,条件,满足,不变,不变式,规则,S,vS

,方法,法规,规则,S,对象,this,S,输入,变量,前置,前置条件,条件,规则,

,后置,条件,规则,

,需要,指出,式,反映,子类,类型,关系,逆变,原则,contravariance,反映,子类,类型,关系,协,变,原则,convariance,强制,制规,规约,继承,使用,COOZ,建立,程序,规约,保证,使用,继承,自动,保证,子类,类型,关系,根据上述,上述,子类,类型,关系,定义,定义,一种,强制,制规,规约,继承,方法,限制,继承,灵活,灵活性,活性,具有,文章,部分,谈到,好处,使用,规约,继承,强制,父,类型,对象,方法,子类,类型,对象,进行,正确,操作,下面,所要,讨论,方法,子类,类型,类型化,方法,更为,灵活,表示,方便,引入,符号,I,表示,继承,不变,不变式,pre,post,表示,继承,后置,条件,符号,定义,节,给出,定义,强制,制规,规约,继承,S,若干,若干类,类型,子类,类型,S,完整,规约,不变,不变式,I,v,Is,v,I,前置,前置条件,条件,后置,条件,值得,值得注意,注意,后置,条件,定义,Liskov,定义,条件,范围,允许,许子,子类,类型,方法,父,类型,方法,法定,定义,定义域,仍然,有效,左边,两个,操作,模式,表示,父,类型,子类,类型,方法,m,强制,制规,规约,继承,定义,完整,子类,类型,方法,m,后置,条件,

,后置,条件,蕴含,父,类型,方法,后置,条件,行为,子类,类型,对象,代替,替父,类型,对象,比较,下面,给出,Liskov,行为,子类,类型,类型化,继承,定义,

,S,T,子类,类型,需要,满足,足下,下述,条件,不变,不变式,规则,方法,法规,规则,前置,前置条件,条件,规则,后置,条件,规则,s,S,状态,状态变量,态变量,变量,s,表示,状态,状态变量,态变量,变量,f,表示,模拟,函数,节,定义,Mx,表示,x,方法,强制,制规,规约,继承,方法,Liskov,E,Cusack,定义,行为,子类,类型,类型化,继承,条件,弱,上例,不满,满足,Liskov,条件,行为,子类,类型,对象,代替,替父,类型,对象,强制,制规,规约,继承,方法,程序,规约,设计,设计者,使用,继承,提供,更,灵活,灵活性,活性,m,调用,进行,推理,当作,作用,用于,父,类型,对象,子类,类型,对象,m,仍然,有效,子类,类型,方法,后置,条件,蕴涵,父,类型,方法,规约,父,类型,方法,规约,子类,类型,对象,自动,满足,模块,模块化,推理,提供,基础,实,说明,规约,继承,下面,给出,一个,简单,实例,模式,schema,BankAccount,表示,银行,银行帐户,帐户,模式,TwoAccount,BankAccount,子类,类型,BankAccoount,属性,credit,精化,化成,currency,check,TwoAccount,具有,更多,信息,保持,父,类型,规约,子类,类型,应该,提供,建立,抽象,父,类型,相应,抽象,关系,模式,这种,抽象,模式,最初,模拟,函数,simulation,function,表示,之后,扩展,关系,简单,实例,采用,模拟,函数,R,String,已有,类型,表示,实数,字符,字符串,

,Simulation,代表,TwoAccount,BankAccount,模拟,函数,规约,继承,TwoAccount,操作,模式,Withdraw,完全,展开,形式,

,self,表示,TwoAccount,对象,不难,不难看出,难看,看出,Withdraw,反映,前面,定义,规约,继承,COOZ,中继,继承,关系,推理,规则,COOZ,引入,扩充,Z,逻辑,建立,相关,推理,规则,介绍,重点,讨论,COOZ,中和,继承,相关,扩充,逻辑,一种,Gentzen,式,相继,式,演算,公理,定理,理由,相继,式,表示,运用,推理,规则,推导,导出,定理,表示,方便,引入,元,函数,元,函数,逻辑,以外,定义,相继,式,相继,式,形式,d,d,声明,表,谓词,集合,称为,前提,谓词,集合,称为,d,环境,条件,谓词,均,至少,少有,一个,谓词,形式,d,有效,事实,事实上,相当,相当于,当于,谓词,合取,谓词,析取,推理,规则,相继,式,推理,规则,采用,用以,以下,形式,

,premisses,规则,前提,相继,式,组成,conclusion,单一,相继,式,规则,结论,proviso,规则,应用,环境,必须,真的,谓词,规则,有效,条件,proviso,满足,premisses,有效,conclusion,有效,称,推理,规则,合理,规则,name,用于,标识,规则,称为,规则,名,规约,继承,推理,规则,讨论,方便,定义,几个,相关,元,函数,元,函数,返回,子类,继承,父,名,集合,S,继承,T1,Tn,S,T1,Tn,元,函数,返回,方法,法名,包括,继承,方法,下面,推理,规则,形式,给出,I,pre,post,定义,继承,不变,不变式,I,定义,

,

,继承,操作,方法,定义,继承,前置,前置条件,条件,

,

,继承,后置,条件,

q1,说明,m,T1,Tk,共有,方法,m,属于,Tk+1,Tn,定义,保证,S,Ti,规约,继承,关系,这种,定义,可作,操作,模式,schema,状态,模式,合取,语义,基础,上述,揄,规则,COOZ,规约,继承,关系,揄,奠定,理论,基础,规约,继承,合理,合理性,理性,讨论,上述,规约,继承,合理,合理性,理性,引入,最弱,前置,前置条件,条件,表示,程序,语义,精化,演算,Frame,表示,方法,

,x,表示,操作,中发,发生,改变,变量,P,表示,谓词,表示,定义,COOZ,子类,类型,方法,法定,定义,

,中下,下标,s,t,表示,父,类型,子类,类型,显然,上式,即为,规约,继承,方法,模式,定义,根据上述,上述,定义,x,pre,post,表示,子类,类型,完整,方法,不难,证明,

,规约,继承,所得,得到,子类,类型,方法,满足,行为,子类,类型,性质,看出,本文,定义,规约,继承,合理,值得,指出,规约,继承,可作,精化,手段,相关,关内,内容,文,讨论,规约,继承,一种,行为,子类,类型,方法,实现,行为,子类,类型,方法,是否,完备,需,进一步,一步,研究,结论,进一步,一步,研究,本文,讨论,COOZ,继承,关系,继承,分为,增量,继承,子类,类型,类型化,继承,重点,讨论,子类,类型,类型化,继承,定义,一种,行为,子类,类型,类型化,继承,定义,COOZ,规约,继承,规约,继承,推理,规则,本文,讨论,子类,类型,类型化,方法,E,Cusack,方法,法相,相比,具有,构造,构造性,Liskov,方法,具有,更,灵活,灵活性,活性,文中,讨论,省略,约束,约束条件,条件,何在,继承,中考,考虑,COOZ,实时,历史,约束,值得,研究,文中,推理,规则,给出,推理,策略,规约,精化,验证,中加,应用,这项,工作,需要,进一步,一步,研究,王,峰,南京,南京大学,大学,计算,计算机,计算机软件,算机,机软件,软件,新,技术,国家,重点,实验,实验室,南京,210093,解放,解放军,解放军理工大学,理工,理工大,理工大学,工大,大学,气象,气象学,学院,南京,211101,李,必,信,南京,南京大学,大学,计算,计算机,计算机软件,算机,机软件,软件,新,技术,国家,重点,实验,实验室,南京,210093,郑,国,梁,南京,南京大学,大学,计算,计算机,计算机软件,算机,机软件,软件,新,技术,国家,重点,实验,实验室,南京,210093,参考,参考文献,文献,Stepney,S,Barden,R,Cooper,D,Object,Orientation,in,Z,London,Springer,Verlag,1992
2,Dhara,K,K,Leavens,G,T,Forcing,behavioral,subtyping,through,specification,inheritance,In,Kemmerer,R,A,ed,Proceedings,of,the,ICSE,18,Washington,DC,IEEE,Press,1996,258,267
3,Drossopolou,S,Karathanos,S,Yang,Dan,Static,typing,for,object,oriented,language,In,Goldsack,S,J,Kent,S,J,H,eds,Formal,Method,and,Object,Technology,London,Springer,Verlag,1996,262,286
4,Yuan,Xiao,dong,Hu,De,qiang,Xu,Hao,et,al,COOZ,a,complete,object,oriented,extension,to,Z,ACM,Software,Engineering,Notes,1998,23,78,81
5,Spivey,J,M,The,Z,Notation,A,Reference,Manual,2nd,Edition,Series,in,Computer,Science,London,Prentice,Hall,Inc,1992
6,Cusack,E,Inheritance,in,object,oriented,Z,In,America,P,ed,Proceedings,of,the,ECOOP,91,Volume,512,of,Lecture,Notes,in,Computer,Science,New,York,Springer,Verlag,1991,167,179
7,Liskov,B,Wing,J,M,A,behavioral,notation,of,subtyping,ACM,Transactions,on,Programming,Languages,and,Systems,1994,16,1811,1841
8,Smith,G,Extending,of,object,Z,In,Bowen,J,P,Hinchey,M,G,ed,ZUM,95,the,Z,formal,specification,notation,Proceedings,of,the,9th,Annual,Z,User,Meeting,Volume,967,of,Lecture,Notes,in,Computer,Science,London,Springer,Verlag,1995,276,296
9,Morgan,C,C,Gardiner,P,H,B,Data,refinement,by,calculation,Acta,Information,1990,27,481,403
