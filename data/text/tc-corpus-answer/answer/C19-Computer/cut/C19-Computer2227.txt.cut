计算,计算机,算机,应用,研究,
APPLICATION,RESEARCH,OF,COMPUTERS
2000,Vol,17,No,P,38,39




,实现,Windows,CE,移动,设备,C,S,模式,红外,外网,网络,网络连接,连接,胡,虚怀,摘,介绍,Windows,CE,支持,WinSock,一个,扩展,红外,红外技术,技术,IrSock,讨论,利用,用工,工业,标准,IrDA,协议,实现,红外,红外线,外线,通信,方法,给出,C,S,模式,应用,应用程序,程序,实例,关键,关键词,Windows,CE,移动,计算,掌上,掌上电脑,电脑,客户,客户机,服务,服务器,务器,红外,外套,套接,接字,前言,Windows,CE,专门,信息,设备,移动,应用,嵌入,嵌入式,嵌入式应用,应用,设计,操作,操作系统,系统,具有,有功,功能,功能强大,强大,通讯,功能,支持,范围,范围广,广泛,通信,硬件,数据,据传,传送,协议,Windows,CE,平台,移动,计算,设备,HPC,Plam,PC,最灵,灵活,通信,方式,属,利用,红外,红外技术,技术,局域,局域网,连接,红外,红外技术,技术,依靠,红外,红外线,外线,波长,红光,微波,之间,750,毫微米,微米,毫米,传输,传输数据,数据,优点,带宽,高,可达,16,Mbps,需要,分配,无线,无线电,频谱,不易,电磁,电磁干扰,干扰,视距,限制,不到,英里,用于,建立,局域,局域网,红外,外网,网络,网络连接,连接,基本,基本模式,模式,C,S,客户,服务,服务器,务器,模式,本文,讨论,这种,模式,实现,方法,给出,相应,C,S,应用,应用程序,程序,实例,Windows,CE,支持,红外,局域,局域网,网下,C,S,模式,C,S,技术,计算,计算机,计算机网,计算机网络,算机,网络,发展,发展,起来,80,年代,计算,计算机,算机,局域,局域网,广域,广域网,数据,数据库,据库,管理,管理系,管理系统,系统,C,S,模式,转变,迅速,占据,主导,主导地位,地位,C,S,组成,系统,拥有,众多,资源,主机,提供,服务,资源,较少,客户,请求,服务,服务,服务器,务器,处理,客户,请求,返回,客户,作用,网间,进程,完成,进程,通信,完全,全异,异步,相互,互通,通信,进程,不存,存在,父子,父子关系,子关,关系,共享,共享内存,内存,缓冲,缓冲区,需要,一种,机制,制为,希望,通信,进程,建立,建立联系,联系,数据,数据交换,交换,提供,同步,传统,做法,Windows,CE,采用,Windows,Socket,套接,接字,通信,机制,实现,进程,这种,双向,数据,数据传输,据传,传输,Windows,Socket,称为,WinSock,WinSock,需要,考虑,通信,双方,约定,协议,有线,固定,网络,环境,典型,协议,著名,TCP,IP,红外,无线,无线网,无线网络,线网,网络,环境,使用,协议,IrDA,Infrared,Data,Association,IrDA,计算,计算机,算机,通信,工业,组织,制定,工业,标准,常用,用于,计算,计算机,算机,外围,外围设备,设备,具有,红外,外端,端口,打印,打印机,印机,之间,通信,Windows,CE,WinSock,API,支持,IrDA,标准,支持,IrDA,标准,Socket,称为,IrSock,并以,以此,WinSock,扩展,Windows,CE,支持,红外,局域,局域网,使用,IrDA,协议,固定,网络,使用,TCP,IP,协议,不一,主要,差别,名字,服务,传统,WinSock,名字,服务,固定,网络,合适,网络,中建,建立,Socket,连接,设备,静止,移动,计算,计算环境,环境,设备,红外,红外线,外线,有效,视距,范围,来来,来来往往,来往,往往,频繁,出没,名字,服务,不适,适应,IrSock,所建,建立,连接,WinSock,名字,服务,函数,不能,使用,需要,将名,名字,服务,合并,并到,通信,流,编址,方法,编址,逻辑,服务,访问,问点,点选,选择,选择器,LSAP,SELs,基础,编址,数,l,127,可用,范围,通常,Sockets,直接,逻辑,服务,访问,问点,结合,信息,访问,服务,IAS,提供,方法,实现,Sockets,逻辑,服务,访问,问点,绑定,使用,IAS,服务,服务器,服务器应用程序,务器,应用,应用程序,程序,一个,Socket,一个,IAS,服务,名,结合,客户,应用,应用程序,程序,Connect,函数,使用,服务,名,应用,应用程序,程序,不知,知道,不必,知道,IAS,所指,指派,逻辑,服务,访问,问点,处理,处理过程,理过,过程,下面,实例,予以,描述,增强,Socket,选项,Windows,CE,包含,Socket,选项,TCP,IP,协议,不适,适应,来访,访问,IrDA,协议,独有,特性,限于,篇幅,本文,不予,讨论,Windows,CE,移动,设备,建立,C,S,模式,应用,应用程序,程序,步骤,VC++,版本,编程,编程语言,语言,配合,相应,Windows,CE,Toolkit,for,VC++,提供,IrSock,支持,知道,Sockets,支持,两种,套接,接字,流,套接,接字,SOCK,STREAM,数据,报,套接,接字,SOCK,DGRAM,流式,套接,接字,提供,一个,面向,连接,可靠,数据,无错,重复,发送,发送,顺序,接收,服务,内设,流量,量控,控制,避免,数据,数据流,超限,数据,看作,字节,节流,长度,限制,数据,报,套接,接字,提供,一个,连接,服务,数据,数据包,独立,包,形式,发送,提供,无差错,差错,保证,数据,可能,丢失,重复,接收,顺序,混乱,建立,C,S,模式,应用,应用程序,程序,两种,套接,接字,方法,基本,基本一致,一致,介绍,流式,套接,接字,方法,建立,服务,服务器,服务器应用程序,务器,应用,应用程序,程序,SOCKET,指派,一个,流式,Socket,AF,IRDA,地址,参数,SOCK,STREAM,类型,参数,调用,Bind,服务,名,Socket,结合,SOCKADDR,IRDA,地址,参数,结构,类型,调用,Listen,侦听,客户,连接,请求,侦听,听到,客户,请求,时调,调用,Accept,接收,客户,调用,Send,Recv,客户,进行,通信,调用,Closesocket,关闭,Socket,建立,客户,应用,应用程序,程序,服务,服务器,服务器应用程序,务器,应用,应用程序,程序,指派,一个,流式,Socket,搜索,服务,服务器,务器,调用,Getsockopt,获取,ID,SOCKADDR,IRDA,为名,名字,参数,调用,Connect,建立,服务,服务器,务器,连接,调用,Send,Recv,服务,服务器,服务器进行,务器,进行,通信,调用,Closesocket,关闭,Socket,示例,下面,Infrared,Socket,服务,服务器,务器,客户,应用,应用程序,程序,运行,一对,Windows,CE,HPC,Palm,PC,之上,Windows,NT,网上,利用,Windows,CE,Emulation,Software,Development,Kit,SDK,版本,本来,模拟,HPC,环境,予以,验证,Infrared,Socket,服务,服务器,务器,
#include,windows,h,
#include,af,irda,h,
int,WINAPI,WinMain,HINSTANCE,hInstance,HINSTANCE,hPrevInstance,LPTSTR,lpCmdLine,int,nCmdShow,SOCKET,ServerSock,ClientSock,SOCKADDR,IRDA,address,AF,IRDA,MyServer,char,helloServer,25,ASCII,串,TCHAR,helloText,25,UNICODE,串,int,idx,ServerSock,socket,AF,IRDA,SOCK,STREAM,bind,ServerSock,struct,sockaddr,address,sizeof,address,listen,ServerSock,ClientSock,accept,ServerSock,recv,ClientSock,helloServer,sizeof,helloServer,for,idx,idx,sizeof,helloServer,idx++,helloText,idx,helloServer,idx,MessageBox,NULL,helloText,TEXT,IR,Server,MB,OK,send,ClientSock,Hello,Client,strlen,Hello,Client,+1,closesocket,ClientSock,closesocket,ServerSock,return,Infrared,Socket,客户,
#include,windows,h,
#include,af,irda,h,
#define,NumRetries,5
int,WINAPI,WinMain,HINSTANCE,hInstance,HINSTANCE,hPrevInstance,LPTSTR,lpCmdLine,int,nCmdShow,SOCKET,sock,SOCKADDR,IRDA,address,AF,IRDA,MyServer,EVICELIST,devList,Int,devListLen,sizeof,devList,cnt,idx,char,helloClient,25,TCHAR,helloText,25,sock,socket,AF,IRDA,SOCK,STREAM,devList,numDevice,设备,号,初始,初始化,化为,0
while,devList,numDevice,cnt,NumRetries,getsockopt,sock,SOL,IRLMP,IRLMP,ENUMDEVICES,char,devList,devListLen,cnt++,Sleep,1000,重试,等待,一秒,
if,cnt,NumRetries,MessageBox,NULL,TEXT,Server,could,not,be,located,TEXT,IR,C1ient,MB,OK,
else
,获取,服务,服务器,务器,socket,地址,for,idx,idx,idx++,address,irdaDeviceID,idx,devList,Device,irdaDeviceID,idx,connect,sock,struct,sockaddr,address,sizeof,SOCKADDR,IRDA,send,sock,Hello,Server,strlen,Hello,Server,+1,recv,sock,helloClient,sizeof,helloClient,for,idx,idx,sizeof,helloClient,idx++,helloText,idx,helloClient,idx,MessageBox,NULL,helloText,TEXT,IR,Client,MB,OK,closesocket,sock,
return,结束,结束语,Windows,CE,设备,设备利用,利用,IrDA,协议,建立,客户,客户机,服务,服务器,务器,工作,模式,红外,红外线,外线,连网,实现,别具,别具一格,一格,移动,计算,计算环境,环境,有效,途径,分析,基本,掌握,IrSock,网络,程序,程序设计,设计,基本,基本原理,本原,原理,实现,方法,胡,虚怀,岳,阳,师范,师范学院,学院,计算,计算机,计算机系,算机,系,湖南,南岳,阳,414000,参考,参考文献,文献,Windows,CE,Programmer,s,Guide,Microsoft,Press,1998
2,http,microsoft,com,windowsce
3,寥,俊,段,爱民,译,Windows,32,编程,指南,北京,清华,清华大学,清华大学出版社,华大,大学,出版,出版社,1996
,收稿,日期,1999,月,13,日