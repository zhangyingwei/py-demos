计算,计算机,算机,应用,
COMPUTER,APPLICATIONS
1999,19,卷,Vol,19,No,1999



,混合,合编,编程,Fortran,计算,程序,可视,可视化,张,志,华,王,林,江,吕,庆,风,摘,本文,探索,VC++,Fortran,OpenGL,进行,混合,合编,编程,方法,方法,充分,充分发挥,分发,发挥,三种,语言,优点,既能,设计,画面,丰富,丰富多彩,多彩,方便,人机,人机对话,对话,界面,最大,大限,大限度,限度,利用,已有,Fortran,语言,编写,程序,资源,实现,计算,计算结果,可视,可视化,用作,作者,已有,Fortran,语言,编写,源程序,程序,进行,尝试,良好,关键,关键词,VC++,Fortran,OpenGL,混合,合编,编程,可视,可视化,
PROGRAMMING,ON,MECHANICS,CALCULATION
WITH,MIXED,LANGUAGES
Zhang,Zhihua,Wang,Linjiang,L,Qingfeng
Nanjing,University,of,Aeronautics,and,Astronautics,Jiangsu,Nanjing,210016
,Abstract,Using,VC++,to,design,colorful,friendly,interface,using,Fortran,to,calculate,using,OpenGL,to,draw,this,paper,dwells,on,programming,with,mixed,languages,to,the,full,advantage,of,every,one,It,is,valuable,for,many,procedures,compiled,in,Fortran,before,to,be,Visualized,for,better,use,The,attempt,with,existed,software,compiled,by,authors,results,in,success,Keywords,VC++,Fortran,OpenGL,Programming,with,mixed,languages,Visualization
1,引言,现有,机械,机械设计,设计,力学,计算,工程,分析,软件,大多,Fortran,语言,编写,近年,近年来,年来,微软,微软公司,公司,推出,PowerStation,软件,推出,出新,Fortran90,语言,VC++4,工作,平台,Developerstudio,现在,混合,合编,编程,Fortran,程序,溶合,合在,VC++,程序,这种,混合,合编,编程,概念,具有,普遍,普遍意义,意义,即可,提供,一种,通用,简便,方法,改造,已有,Fortran,程序,拥有,一个,全新,Windows,界面,用户,使用,混合,合编,编程,思路,大多,大多数,多数,Fortran,程序,一条,方式,工作,先是,屏幕,原始,原始数据,数据,数据文件,文件,输入,数据,进行,行运,运算,运算,结束,计算,计算结果,保存,存有,有数,数据,数据文件,文件,一过,过程,中原,原始,原始数据,数据,准备,十分,繁琐,容易,出错,计算,计算结果,阅读,十分,费神,现在,以方,方便,应用,VC++,对话,对话框,获得,参数,利用,文档,保存,计算,计算结果,进行,磁盘,磁盘操作,操作,利用,视窗,显示,利用,OpenGL,库函数,函数,绘制,云图,立体,立体图,曲面,计算,保存,中间,Fortran,完成,VC++,Fortran,混合,合编,编程,规则,同属,微软,家族,使用,同一,平台,两种,语言,之间,沟通,是非,非常,方便,文档,CPP,文件,前面,加上,extern,C,void,stdcall,函数,数名,数据,数据类型,类型,需要,计算,加上,函数,数名,+,传送,变量,传送,数组,需要,指出,此种,混合,合编,编程,要求,求数,数据,引用,形式,传递,外传,传递,数组,必须,开辟,专用,内存,数据,存盘,及时,清除,原,Fortran,程序,进行,改造,主程序,程序,变成,Subroutine,Function,加上,VC++,传递,传递函数,函数,传递,递变,变量,同样,哑,元,数据,数据类型,类型,转换,float,real,double,real,int,integer,最后,关键,两步,Insert,菜单,Files,into,Project,命令,Fortran,程序,嵌入,VC++,框架,Build,菜单,settings,命令,Link,选项,中加,加上,Libfmt,lib,defaultlibry,注明,Libfcmt,lib,C,C++,选项,中加,加上,Multithreaded,Fortran,选项,中加,加上,Multithreaded,Full,optimization,文档,生成,派生,文档,CtypedPtrArray,模版,生成,CobArray,派生,派生类,对象,保存,最终,终结,传统,Fortran,程序,成员,变量,封装,性,差,保存,打开,数据,数据文件,文件,繁琐,利用,概念,利用,Serialize,函数,轻易,解决,问题,利用,CobArray,中继,继承,下来,Add,GetAt,GetSize,函数,方便,实现,数据,添加,查找,视窗,绘制,数据,曲线,视窗,样条,函数,对数,数据,进行,处理,确定,映射,方式,逻辑,坐标,设备,坐标,标的,转换,确定,坐标,原点,调用,画笔,连接,曲线,利用,OpenGL,进行,后置,处理,OpenGL,SGI,SUN,HP,DEC,Microsoft,公司,推出,三维,三维图,图形,开发,发标,标准,十分,方便,实用,OpenGL,已成,成为,三维,三维图,图形,通用,标准,OpenGL,工作,平台,Developstadio,上调,调试,嵌入,VC++,框架,视窗,纹理,映射,特殊,特殊,特殊效果,效果,处理,三维,三维动画,动画,OpenGL,优势,利用,技术,立体,再现,角度,角度观察,观察,模型,色彩,变化,反映,映出,应力,应力场,力场,分布,需要,指出,Build,菜单,settings,命令,Link,选项,中加,加上,opengl32,lib,glu32,lib,glaux,lib,OpenGL,嵌入,视窗,关键,编写,bSetupPixelFormat,代码,一个,象素,格式,描述,描述符,结构,当前,设备,上下文,下文,关联,起来,BOOL,CCubeView,bSetupPixelFormat,
static,PIXELFORMATDESCRIPTOR,pfd,sizeof,PIXELFORMATDESCRIPTOR,size,of,this,pfd
1,version,number
PFD,DRAW,TO,WINDOW,support,window
PFD,SUPPORT,OPENGL,support,OpenGL
PFD,DOUBLEBUFFER,double,buffered
PFD,TYPE,RGBA,RGBA,type
24,24,bit,color,depth
0,color,bits,ignored
0,no,alpha,buffer
0,shift,bit,ignored
0,no,accumulation,buffer
0,accum,bits,ignored
32,32,bit,z,buffer
0,no,stencil,buffer
0,no,auxiliary,buffer
PFD,MAIN,PLANE,main,layer
0,reserved
0,layer,masks,ignored
,PowerStation,软件,新,功能,PowerStation,软件,广泛,广泛应用,应用,缺少,必要,使用,使用指南,指南,造成,多功能,功能,没有,充分,充分利用,分利,利用,现,混合,合编,编程,介绍,关键,功能,强大,Debug,调试,功能,Developerstudio,工作,平台,台中,调试,调试程序,程序,检查,查错,错误,异常,方便,选择,Infoviewer,工具,工具条,FPS4,books,online,点击,Project,Wokspace,窗口,Infoview,工具,扭,窗口,显示,书,专题,专题讨论,讨论,双击,Builder,Error,专题,显示,Compile,error,Linker,Tools,error,Runtime,error,Math,error,专题,详细,介绍,错误,原因,编译,连接,接通,不正,正确,选择,Build,菜单,Debug,命令,选择,run,to,cursor,执行,可能,发生,数据,据传,传递,错误,出现,Debug,调试,窗口,状态,变量,数组,当前,屏幕,显示,选择,单步,执行,执行命令,命令,通过观察,观察,变量,变化,判断,数据,是否,正确,传递,这种,功能,混合,合编,编程,尤其,重要,为数,数据,据传,传递,混合,合编,编程,决定,定作,作用,利用,PowerStation,提供,数学,库,精减,源程序,程序,PowerStation,提供,1000,动态,连接,库,覆盖,工程,数学,各个方面,这样一来,涉及,数学,学运,运算,完全,不必,写,与此有关,源代码,代码,不用,拷贝,与此有关,源代码,代码,动态,连接,库,形式,存在,需,写,CALL+,所要,库函数,函数,数名,即可,得到,所要,库函数,函数,数名,选择,Infoviewer,工具,工具条,FPS4,books,online,点击,Project,Wokspace,窗口,Infoview,工具,扭,窗口,显示,书,专题,专题讨论,讨论,双击,IMSL,libraries,Reference,专题,显示,三,库,IMSL,Math,Library,通用,数学,库,包含,微分,积分,矩阵,运算,IMSL,stat,Library,数理,数理统计,统计,库,IMSL,Math,Library,Special,Function,特殊,函数,函数库,打开,所需,库,可查,查寻,库函数,函数,双击,库函数,函数,出现,库函数,函数,详细,使用,说明,最后,一定,勿忘,程序,开头,加上,USE,MSIMSL,表明,调用,数学,库,Fortran,90,语言,优越,优越性,80,年代,Fortran,语言,相当,普及,多功能,功能,更,强大,语言,象是,C,C++,Ada,越来,越来越,采用,一个,ANSI,委员,委员会,努力,力推,推出,Fortran,77,标准,更新,更新版,新版,1990,新,标准,技术,技术工,工作,宣告,完成,标准,称为,Fortran,90,Fortran,90,Fortran,77,相比,主要,增加,功能,数组,运算,模块,模块化,设计,结构,类型,数据,指针,模块,模块接口,接口,显而,显而易见,易见,功能,大大,弥补,Fortran77,语言,不足,Fortran,77,语言,深入,深入人心,人心,功能,使用,起来,C,语言,同类,功能,相比,得心应手,应手,在某些特,特定,特定场合,场合,适当,利用,Fortran,90,特点,产生,效果,主程序,程序,个子,例程,subroutine,分为,不同,文件,各例,例程,成为,子模,模块,个子,子模,模块,变量,改造,造成,成员,变量,这样一来,实现,模块,模块化,设计,条理,条理清晰,理清,清晰,实现,变量,封装,方便,其他人,使用,模块,进行,保护,混合,合编,编程,实例,作者,Fortran,语言,编写,特解,边界,元,求解,含,孔洞,裂纹,各向异性,异性,板,应力,应力场,力场,应力,强度,因子,程序,利用,VC++,OpenGL,混合,合编,编程,编程技术,技术,生成,一个,界面,面友,友好,形象,直观,Windows,程序,程序,主,界面,面如,图,所示,获取,参数,对话,对话框,图,所示,

,图,程序,主,界面,

,图,获取,参数,对话,对话框,绘制,云图,基本,基本思路,思路,板,上划,划分,7000,多个,网格,网格,节点,共,14760,相邻,网格,公共,节点,坐标,Fortran,边界,元,程序,算出,应力,x,y,xy,求出,最大,应力,最小,应力,Von,Mises,相当,应力,应力,最大,最大值,大值,最小,最小值,划分,11,小区,区间,每个,区间,赋予,不同,色彩,这样一来,每个,应力,大小,色彩,坐标,当用,7000,多个,带有,有色,色彩,四边,四边形,构造,板,云图,绘制,制出,最小,主应力,应力,云图,图,所示,Von,Mises,相当,应力,云图,图,所示,

,图,最小,主应力,应力,云图,

,图,Von,Mises,相当,应力,云图,结语,本文,探索,一种,改造,传统,Fortran,语言,编写,程序,通用,方法,实践,实践证明,证明,方法,切实,切实可行,可行,通用,方法,提出,出得,得益,得益于,益于,作者,三种,语言,具有,一定,了解,PowerStation,VC++,OpenGL,工作,平台,统一,原本,复杂,问题,大大,大大简化,简化,方法,以使,陈旧,计算,计算机,算机,语言,焕发,发生,生机,主要,以利,利用,用以,以前,资源,节约,大量,编程,时间,作者,作者简介,简介,张,志,华,博士,研究,研究生,研究,方向,压电,陶瓷,机电,耦合,计算,计算机,算机,应用,应用软件,软件,王,林,江,副研究员,研究,研究员,研究,方向,计算,计算力,力学,吕,庆,风,研究,研究员,研究,方向,飞机,总体,总体设计,设计,作者,单位,南京,南京航空航天大学,航空,航空航天,空航,航天,天大,大学,江苏,南京,210016,参考,参考文献,文献,陈,启,秀,黄,彻,计算,计算机,算机,常用,常用语,用语,语言,混合,合编,编程,南京,南京,南京大学,大学,出版,出版社,1994,Redwine,Cooper,Upgrading,to,Fortran,90,Springer,Verlag,New,York,Inc,1995,35
,何新,新贵,徐,祖,渊,Fortran,90,中国,国铁,铁道,出版,出版社,1994,10
,Michael,J,Young,Visul,C++,入门,精通,北京,电子,工业,出版,出版社,1997,202,207
,Scott,Stanfield,Ralph,Arvesen,Visul,C++,开发,开发人员,发人,人员,指南,北京,机械,机械工业,工业,出版,出版社,1997,56,76
,David,J,Kruglinski,Visul,C++,技术,内幕,北京,清华,清华大学,清华大学出版社,华大,大学,出版,出版社,1996,50,57
,收稿,日期,1999,03,15,修改,修改稿,改稿