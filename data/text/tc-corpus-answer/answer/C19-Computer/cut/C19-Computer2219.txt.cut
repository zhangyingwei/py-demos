计算,计算机,算机,应用,研究,
APPLICATION,RESEARCH,OF,COMPUTERS
2000,Vol,17,No,P,17,18,82




,一种,ISAPI,扩展,安全,验证,方法,陈,晓,苏,张,涛,肖,举,摘,分析,HTTP,基本,验证,NT,安全,模型,IIS,用户,安全,全机,机制,讨论,用户,安全,验证,存在,问题,改进,设想,给出,一种,ISAPI,扩展,安全,验证,方法,关键,关键词,NT,IIS,安全,验证,ISAPI,扩展,引言,企业,管理,需要,越来,越来越,越多,企业,构建,建基,Windows,NT,内联,联网,Intranet,并建,建立,Web,网站,主页,形式,发布,企业,信息,合理,管理,利用,大量,已有,信息,不少,企业,Web,数据,数据库,据库,管理,管理系,管理系统,系统,相结合,结合,开发,开放,开放性,Web,应用,系统,提供,面向,Web,交互,交互式,数据,数据库,据库,访问,平台,这种,应用,特征,保证,保证系统,系统,安全,运行,环境,操作,操作系统,系统,Web,服务,服务器,务器,数据,数据库,数据库系统,据库,系统,安全,显得,十分,重要,本文,分析,HTTP,基本,验证,机制,入手,考察,Windows,NT,IIS,用户,用户注册,注册,身份,身份验证,验证,过程,讨论,维护,网络,网络安全,安全,存在,缺陷,特别,访问,Windows,NT,网址,用户,增多,造成,安全,验证,性能,迅速,下降,IIS,无法,支持,第三,第三方,三方,安全,全数,数据,数据库,据库,问题,进行,深入,剖析,解决,上述,缺陷,给出,ISAPI,扩展,安全,验证,方法,代替,IIS,缺省,网络,网络安全,安全,安全性,检验,HTTP,规范,基本,验证,机制,HTTP,验证,进程,HTTP,标准,标准协议,协议,定义,一个,简单,灵活,扩展,Challenge,Response,进程,验证,用户,身份,匿名,用户,请求,受限,资源,之前,用户,一直,保持,匿名,名状,状态,匿名,用户,请求,安全,全资,资源,验证,进程,服务,服务器,务器,产生,一个,标准,HTTP,401,Access,denied,消息,响应,远程,浏览,浏览器,通知,请求,拒绝,HTTP,无状,状态,协议,服务,服务器,务器,跟踪,初始,请求,中所,所指,指定,资源,要求,浏览,浏览器,器重,重新,形成,成安,安全,全凭,凭证,再次,提交,请求,重新,提交,请求,附加,包含,请求,头部,Authorization,其后,包含,编码,凭证,用于,编码,凭证,验证,方案,名字,验证,请求,提交,服务,服务器,务器,请求,找到,Authorization,头部,使用,凭证,记录,确定,用户,身份,验证,可能,请求,拒绝,要求,浏览,浏览器,再次,提交,新,凭证,提交,次数,数根,浏览,浏览器,定,可能,提供,新,凭证,合法,服务,服务器,服务器返回,务器,返回,请求,资源,HTTP,验证,方案,验证,方案,用于,浏览,浏览器,传送,安全,全凭,凭证,服务,服务器,务器,机制,HTTP,规范,验证,方案,通常,常有,两种,基本,验证,方案,NTLN,方案,基本,验证,方案,方案,大多,大多数,多数,Internet,服务,服务器,务器,支持,实现,跨,网络,传输,用户,用户名,户名,口令,编码,服务,服务器,务器,响应,头中,包括,WWW,Authenticate,Basic,reaml,localhost,验证,记录,表明,支持,验证,方案,基本,验证,方案,请求,授权,记录,包含,含有,检查,编码,凭证,方案,名字,Authorization,Basic,c2rbWM6eHh4,用户,验证,记录,MIME,Basic,64,格式,编码,基本,验证,方案,传输,数据,进行,编码,未加,加密,基本,验证,方案,只能,一种,认定,用户,方法,不能,实现,真正,网址,安全,保护,NTLN,验证,方案,方案,案由,IIS,Internet,Explorer,实现,完成,操作,操作系统,系统,用户,登录,数据,数据库,据库,获取,工作,工作站,注册,凭证,以此,服务,服务器,务器,安全,全凭,凭证,方案,NT,LAN,Manager,网络,使用,Windows,NT,安全,模型,IIS,安全,环境,Windows,NT,验证,证实,实际,实际上,WWW,用户,NT,登录,进程,一个,服务,登录,录用,用户,独立,运行,一个,一个程,程序,后台,进程,常见,服务,包括,登录,服务,处理,Client,登录,请求,用户,进行,认证,DNS,Server,处理,Internet,域名,解释,远程,过程,调用,服务,处理,Client,RPC,请求,映射,射到,注册,RPC,Server,Windows,NT,名字,字库,NT,用户,管理,管理器,理器,定义,一系,一系列,系列,用户,每个,记录,用户,用户名,户名,口令,用于,Windows,NT,登录,验证,用户,访问,NT,身份,Windows,NT,用户,用户名,户名,口令,一种,易于,解码,形式,传递,从严,严格,意义,讲,NT,用户,身份,身份验证,验证,不能,实现,真正,网址,安全,保护,IIS,系统,安全,使用,标准,Windows,NT,访问,权限,管理,用户,服务,服务器,务器,检索,资源,权利,利是,检查,Windows,NT,用户,访问,权限,确定,IIS,认证,Client,请求,三种,方法,匿名,注册,基本,验证,Windows,NT,询问,响应,认证,匿名,认证,设置,透明,用户,用户名,户名,密码,允许,匿名,用户,访问,一定,资源,匿名,用户,请求,网络,网络资源,资源,Server,启动,两种,认证,方式,一种,HTTP,基本,验证,分析,用户,用户名,户名,密码,采用,MIME,Basic,64,编码,明文,文传,传输,采用,基本,认证,IIS,安全,安全性,带来,潜在,危险,IIS,采用,Windows,NT,询问,响应,认证,IIS,Windows,NT,名字,字库,获取,Client,注册,凭证,必须,看到,大量,网络,用户,访问,NT,网站,Windows,NT,局限,局限性,限性,安全,验证,性能,显著,下降,验证,过滤,过滤器,滤器,应,解决,问题,从前,前面,分析,看出,Windows,NT,IIS,基本,验证,过程,存在,以下,下问,问题,用户,用户名,户名,密码,没有,有加,加密,编码,和解,解码,用户,用户名,户名,口令,方法,验证,网络,用户,资源,访问,权限,验证,不能,保证,网址,安全,Windows,NT,域,网址,超过,000,用户,NT,安全,管理,管理器,理器,安全,验证,性能,显著,下降,实现,某种,安全,安全性,网址,银行,在线,帐户,系统,网络,网络服务,服务,服务器,务器,安全,全数,数据,数据库,据库,银行,银行帐户,帐户,户数,数据,数据库,据库,不一,一致,势必,势必会,银行,行客,客户,身份,身份验证,验证,带来,困难,必须,网络,网络管理,网络管理员,管理,管理员,维护,应用,应用程序,程序,安全,全数,数据,数据库,据库,网络,维护,带来,麻烦,Windows,NT,基本,验证,用户,用户名,户名,密码,只能,能用,用于,身份,身份验证,验证,不能,资源,访问,权限,凭证,明显,资源,访问,权限,管理,管理员,分配,用户,用户名,户名,没有,直接,接关,关系,IIS,Windows,NT,安全,验证,存在,问题,采用,ISAPI,Internet,Server,Application,Program,Interface,扩展,改变,IIS,缺省,安全,验证,行为,这种,扩展,保证,IIS,安全,全数,数据,数据库,据库,不依,依赖,依赖于,赖于,Windows,NT,名字,字库,即可,以利,利用,外部,系统,口令,用户,用户名,户名,名实,实现,安全,安全性,检查,达到,支持,应用,应用程序,程序,第三,第三方,三方,安全,全数,数据,数据库,据库,支持,面向,ODBC,安全,全数,数据,数据库,据库,连接,目的,利用,角色,系统,验证,不再,用户,身份,用户,行为,确定,用户,信息,范围,适合,功能,验证,过滤,过滤器,滤器,设计,实现,验证,过滤,过滤器,滤器,性能,要求,数据,存储,要求,过滤,过滤器,滤器,应该,外部,数据,数据源,获取,验证,用户,用户名,户名,口令,角色,访问,ODBC,数据,存储,支持,多线,多线程,线程,执行,效率,要求,设想,一个,资源,请求,包括,嵌入,对象,Applet,ActiveX,控件,验证,过滤,过滤器,滤器,激活,意味,意味着,一个,HTML,网页,产生,若干,若干次,过滤,过滤器,滤器,引用,要求,验证,过滤,过滤器,滤器,器具,具有,高性,高性能,性能,执行,效率,快速,获取,验证,用户,凭证,安全,安全性,性能,要求,ISAPI,扩展,直接,接访,访问,IIS,数据,数据结构,结构,验证,过滤,过滤器,滤器,可能,IIS,安全,安全性,带来,严重,潜在,危险,而要,要求,求实,实现,验证,过滤,过滤器,滤器,必须,考虑,线程,安全,问题,考虑,多线,多线程,线程,数据,存储,支持,要求,过滤,过滤器,滤器,支持,数据,数据库,据库,访问,同步,管理,过滤,过滤器,滤器,设计,实现,验证,过滤,过滤器,滤器,实现,集中,三个,CDatabaseManager,数据,数据库,据库,管理,管理器,理器,该类,负责,ODBC,数据,数据库,据库,检索,用户,安全,全记录,记录,实现,数据,数据库,据库,管理,管理器,理器,应考,考虑,线程,同步,确保,数据,一致,一致性,快速,获得,安全,全记录,记录,应该,避免,频繁,出现,ODBC,登录,满足,执行,效率,要求,该类,主要,成员,函数,包括,CDatabaseManager,String,ConnectString,Bool,useCriticalSection,true,用于,ODBC,数据,数据库,据库,连接,访问,基础,数据,数据库,据库,请求,提供,保护,Bool,LookUser,String,user,CuserSecurityEntry,entry,用于,检索,安全,全数,数据,数据库,据库,用户,记录,Void,EnterCriticalSection,Void,ExitCritical,Section,两个,函数,检查,检查用户,用户,m,UserCritical,Section,标识,标识符,判断,是否,访问,基础,数据,数据库,据库,使用,CCriticalSection,对象,象管,管理,线程,同步,私有,有数,数据,Bool,m,UserCriticalSection,访问,数据,数据库,据库,线程,同步,标志,CUserCacheManage,m,UserCache,用户,记录,缓冲,缓冲器,对象,CDatabase,m,Dd,数据,数据库,据库,对象,CCriticalSection,m,CriticalSection,线程,同步,对象,CUserCacheManager,缓存,管理,管理器,理器,该类,负责,负责管理,管理,用户,安全,全记录,记录,内存,缓存,当众,众多,用户,短,时间,访问,网址,安全,全记录,记录,验证,可能,集中,有限,几个,安全,全记录,记录,多次,验证,一个,用户,户下,下载,网页,资源,连续,多次,触发,发过,过滤,过滤器,滤器,假设,大多,大多数,多数,情况,缓存,操作,用户,安全,全信,信息,请求,记录,相似,一个,驻,存记,记录,设置,延缓,时间,确定,缓存,存记,记录,有效,有效性,从缓,缓存,清除,除过,过期,记录,恢复,缓存,空间,该类,主要,成员,函数,包括,Void,AddEntry,Const,CUserSecrity,rUser,用于,增加,新,安全,全记录,记录,录到,缓存,Bool,LookupEntry,String,UserName,CUserSecrity,Entry,rEntry,用于,从缓,缓存,检索,安全,全记录,记录,检查,用户,安全,全记录,记录,是否,到期,Void,PurgeCache,用于,过期,安全,全记录,记录,移出,缓存,CAuthFilter
,该类,CHTTPFilter,派生,派生类,过滤,过滤器,滤器,IIS,接口,主要,成员,函数,包括,Virtual,BOOL,GetFilterVersion,PHTTP,FILTER,VERSION,pVer,用于,MFC,ISAPI,过滤,过滤器,滤器,初始,初始化,处理,请求,验证,安全,连接,安全,连接,Virtual,DWORD,OnAuthentication,CHTTPFilter,Context,pCtxt,PHTTP,FILTER,AUTHENT,Pauthent,用于,完成,用户,安全,全身,身份,检查,两个,附加,CUserSecurityEntry,用于,传递,传递数据,数据,数据库,据库,中所,定义,用户,信息,CCacheEntry,用于,封装,缓存,管理,管理器,理器,使用,用户,安全,入口,结束,结束语,验证,过滤,过滤器,滤器,一个,动态,连接,库,DLL,需将,注册,HKEY,LOCAL,MACHINE,CurrentControlSet,Services,W3VC,Parameters,Filter,DLL,验证,过滤,过滤器,滤器,名,远程,浏览,浏览器,访问,IIS,IIS,装载,启动,验证,过滤,过滤器,滤器,IIS,不再,使用,NT,安全,验证,方法,避免,NT,域,用户,增加,加造,造成,成安,安全,验证,性能,下降,IIS,支持,应用,应用程序,程序,第三,第三方,三方,安全,全数,数据,数据库,据库,降低,NT,安全,全数,数据,数据库,据库,维护,护工,工作,工作量,提高,IIS,安全,安全性,性能,过滤,过滤器,滤器,安全,全记录,记录,加密,无法,实现,网址,安全,保护,进一步,一步,考虑,引入,验证,过滤,过滤器,滤器,动态,连接,库,实施,数字,数字签名,签名,验证,过滤,过滤器,滤器,加密,授权,间接,实现,网址,安全,保护,陈,晓,苏,华中,华中理工大学,理工,理工大,理工大学,工大,大学,计算,计算机,计算机科学,算机,科学,技术,术学,学院,武汉,430074,张,涛,华中,华中理工大学,理工,理工大,理工大学,工大,大学,计算,计算机,计算机科学,算机,科学,技术,术学,学院,武汉,430074,肖,举,华中,华中理工大学,理工,理工大,理工大学,工大,大学,计算,计算机,计算机科学,算机,科学,技术,术学,学院,武汉,430074,参考,参考文献,文献,K,Clements,and,C,Wuestefeld,著,朱,玉山,王,晓,冬,译,ISAPI,实用,实用技术,技术,指南,北京,清华,清华大学,清华大学出版社,华大,大学,出版,出版社,1998
2,Microsoft,IIS,and,ISAPI,Security,of,MSDN3,Tony,Beveridge,ISAPI,NSAPI,Web,高级,编程,北京,中国,水利,水利电力,电力,出版,出版社,1999
,收稿,日期,1999,月,22,日