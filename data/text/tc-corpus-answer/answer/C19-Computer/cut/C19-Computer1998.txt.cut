微型,微型机,应用,
WEIXINGJI,YU,YINGYONG
1999,月,18,卷,vol,18,No,3



SPI,串行,串行总线,总线,8031,单片,单片机,应用,系统,实现,卜,玉,明,摘,MCS51,系列,MCS96,系列,ATMEL89,系列,单片,单片机,应用,广,均,没有,SPI,串行,串行总线,总线,接口,限制,系统,使用,用具,具有,SPI,总线,接口,口器,器件,应用,本文,介绍,SPI,串行,串行总线,总线,性能,并以,串行,E2PROM,给出,8031,单片,单片机,机上,利用,I,O,线,实现,SPI,串行,串行总线,总线,方法,软件,软件设计,设计,关键,关键词,8031,单片,单片机,SPI,串行,串行总线,总线,总线,接口,SPI,总线,SPI,Serial,Peripheral,Interface,串行,外设,接口,总线,系统,一种,同步,串行,外设,接口,允许,MCU,外围,外围设备,设备,串行,方式,进行,通信,交换,信息,外围,外围设备,设备,包括,简单,TTL,移位,寄存,寄存器,用作,并行,输入,输出,出口,复杂,LCD,显示,驱动,驱动器,A,D,转换,转换器,SPI,系统,直接,厂家,生产,多种,标准,外围,器件,直接,接接,接口,使用,条,线,串行,行时,时钟,线,SCK,主机,输入,机,输出,数据,数据线,MISO,主机,输出,机,输入,数据,数据线,MOSI,低电平,电平,有效,机,选择,线,SS,SPI,系统,系统总线,总线,需,位数,数据,数据线,控制,控制线,即可,扩展,具有,SPI,I,O,器件,并行,总线,扩展,方法,需,数据,数据线,16,地址,线,控制,控制线,SPI,总线,使用,简化,电路,电路设计,设计,省掉,很多,多常,常规,电路,接口,口器,器件,提高,设计,可靠,可靠性,8031,不具,具有,SPI,接口,单片,单片机,机组,组成,智能,智能化,仪表,测控,控系统,系统,速度,要求,高,掉电,保存,少量,系统,参数,低功耗,功耗,场合,使用,SPI,总线,无疑,增加,应用,系统,接口,口器,器件,种类,增强,应用,系统,性能,SPI,总线,组成,SPI,总线,软件,控制,构成,简单,复杂,系统,主,MCU,几个,MCU,几个,MCU,相互,相互连接,互连,连接,构成,主机,机系统,系统,分布,分布式,分布式系统,布式,系统,主,MCU,几个,I,O,设备,大多,大多数,多数,应用,用场,场合,使用,MCU,为主,主机,控制,控制数据,数据,多个,外围,器件,传送,器件,只能,主机,发,命令,接收,主机,传送,传送数据,数据,数据,传输,格式,高位,MSB,低位,LSB,SPI,典型,结构,图,

,图,SPI,总线,组成,SPI,几种,不同,串行,I,O,芯片,相连,必须,每片,允许,控制,端,可用,MCU,I,O,端口,输出,出线,实现,应,特别,特别注意,注意,串行,I,O,芯片,输入,输入输出,输出,输出特性,特性,输入,芯片,串行,行数,数据,输出,是否,三态,控制,端,平时,未,选中,芯片,输出,端,应,处于,高,阻,态,没有,三态,控制,端,应,外加,三态,门,MCU,MISO,端,只能,连接,输入,芯片,输出,芯片,串行,行数,数据,输入,是否,允许,控制,端,应该,片,芯片,允许,SCK,脉冲,串行,行数,数据,移入,芯片,芯片,禁止,SCK,芯片,无影,影响,没有,允许,控制,端,应,在外,外部,门电路,电路,SCK,进行,控制,再加,加到,芯片,时钟,输入,端,SPI,连接,芯片,不能,连接,输入,输出,芯片,SPI,总线,8031,单片,单片机,实现,方法,没有,8031,单片,单片机,SPI,接口,MCU,可使,使用,软件,模拟,SPI,操作,包括,串行,行时,时钟,数据,输入,输出,不同,串行,串行接口,接口,口外,外围,芯片,时钟,时序,不同,SCK,上升,输入,接收,数据,下降,输出,发送,数据,器件,应取,图,串行,行时,时钟,输出,P1,初始,初始状态,状态,允许,接口,芯片,置,P1,MCU,输出,SCK,时钟,接口,芯片,串行,左移,输出,位数,数据,8031,P1,模拟,MCU,MISO,线,置,P1,8031,P1,输出,位数,数据,先为,高位,串行,串行接口,接口,芯片,模拟,位数,数据,输入,输入输出,输出,完成,以后,置,P1,模拟,输入,输入输出,输出,依此,循环,完成,SPI,传输,1B,操作,SCK,下降,输入,数据,上升,输出,数据,器件,应取,串行,行时,时钟,输出,初始,初始状态,状态,接口,芯片,允许,置,P1,外围,接口,芯片,输出,位数,数据,MCU,接收,位数,数据,置,时钟,外围,接口,芯片,接收,位数,数据,MCU,发送,位数,数据,完成,位数,数据,传送,图,8031,MCU,MCM2814,E2PROM,硬件,连接,图,MCM2814,详细,详细情况,细情,情况,参考,参考文献,文献,图,P1,模拟,MCU,数据,输出,端,MOSI,P1,模拟,SPI,SCK,输出,端,P1,模拟,SPI,机,选择,端,P1,模拟,SPI,数据,输入,端,MISO,下面,介绍,8031,汇编,汇编语言,语言,模拟,SPI,串行,输入,串行,输出,串行,输入,输出,个子,子程序,程序,子程序,程序,适用,用于,串行,行时,时钟,上升,输入,下降,输出,串行,外围,接口,芯片,10,A,D,芯片,74LS,系列,输出,芯片,下降,输入,上升,输出,串行,外围,接口,芯片,改变,P1,输出,顺序,输出,输入,输出,子程序,程序,同样,适用,


,图,SPI,总线,接口,原理,原理图,MCU,串行,输入,子程序,程序,SPIIN
,MCM2814,SPISO,线,上接,接收,1B,数据,放入,寄存,寄存器,R0,SPIIN,SETB,P1,P1,时钟,输出,CLRP1,选择,机,MOVR1,#08H,置,循环,次数,SPIN1,CLRP1,P1,时钟,输出,NOP,延时,NOP,MOVC,P1,机,输出,SPISO,送进,进位,C,RLCA,左移,移至,累加,累加器,ACC,SETBP1,P1,时钟,输出,DJNZR1,SPIN1,判,是否,循环,1B,数据,MOVR0,A,1B,数据,送,R0,RETI,返回,MCU,串行,输出,子程序,程序,SPIOUT
,8031,R0,寄存,寄存器,内容,传送,送到,MCM2814,SPISI,线,SPIOUN,SETB,P1,P1,时钟,输出,CLRP1,选择,机,MOVR1,#08H,置,循环,次数,MOVA,R0,1B,数据,送,累加,累加器,ACC,SPIOT1,CLR,P1,P1,时钟,输出,NOP,延时,NOP,RLC,A,左移,移至,累加,累加器,ACC,最高,高位,C,MOV,P1,C,进位,C,送,机,输入,SPISI,线,SETB,P1,P1,时钟,输出,DJNZ,R1,SPIOT1,判,是否,循环,1B,数据,RETI,返回,MCU,串行,输入,输出,子程序,程序,SPIIO
,8031,R0,寄存,寄存器,内容,传送,送到,MCM2814,SPISI,MCM2814,SPISO,接收,1B,数据,SPIIO,SETB,P1,P1,时钟,输出,CLRP1,选择,机,MOVR1,#08H,置,循环,次数,MOVA,R0,1B,数据,送,累加,累加器,ACC,SPIO1,CLRP1,P1,时钟,输出,NOP,延时,NOP,MOVC,P1,机,输出,SPISO,送进,进位,C,RLCA,左移,移至,累加,累加器,ACC,最高,高位,C,MOVP1,C,进位,C,送,机,输入,SETBP1,P1,时钟,输出,DJNZR1,SPIO1,判,是否,循环,1B,数据,RETI,返回,本文,给出,8031,单片,单片机,汇编,汇编语言,语言,模拟,SPI,总线,输入,输出,输入,输出,传送,1B,子程序,程序,读者,SPI,总线,操作,时序,MCS96,系列,ATMEL89,系列,单片,单片机,机上,实现,SPI,总线,接口,作者,单位,安徽,铜陵,有色,有色金属,金属,设计,研究,研究院,自动,自动化,研究,研究所,244000,参考,参考文献,文献,涂,亮,MC68HC05,单片,单片机,原理,应用,技术,手册,上海,复旦,复旦大学,大学,出版,出版社,1991
,涂,亮,张有德,陈,章,龙,单片,单片微,微机,机软件,软件,软件设计,设计,技术,北京,科学,科学技术,技术,文献,献出,出版,出版社,1988
,收稿,日期,1998,09,10