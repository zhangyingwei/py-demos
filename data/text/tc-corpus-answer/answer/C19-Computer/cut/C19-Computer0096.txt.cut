计算,计算机,算机,机工,机工程,工程,
COMPUTER,ENGINEERING
1999,25,卷,Vol,25,No,1999



Unix,Windows,NT,之间,实现,远程,过程,调用,孙,春,艳,项,钦,摘要,介绍,利用,Socket,机制,实现,跨,Unix,Windows,NT,系统,远程,过程,调用,方法,实现,机制,简介,编程,要点,关键,关键词,远程,过程,调用,套接,接字,WinSock
The,Implementation,of,PRC,Between,Unix,and,Windows,NT
Sun,Chunyan,xiang,Qinzhi
,CAD,CAM,Software,Development,and,Training,Center,of,China,Aerospace,Corp,Beijing,100037,Abstract,This,paper,introduces,the,method,and,mechanism,that,take,advantage,of,Socket,to,realize,RPC,between,Unix,and,Windows,NT,In,addition,it,shows,main,points,of,programming,Key,words,RPC,socket,WinSock
,网络,程序,程序开发,开发,中常,激活,活分,分布,网络,中远,地机,机器,过程,远程,过程,调用,RPC,Remote,Procedure,Call,现有,很多,成熟,操作,操作系统,系统,RPC,应用,应用软件,软件,用户,调用,远程,过程,直接,利用,库函数,函数,给予,支持,多种,操作,操作系统,系统,统共,共存,网络,环境,远程,调用,程序,不同,系统,实现,远程,过程,调用,不能,直接,使用,现有,RPC,软件,Unix,NT,之间,跨平台,平台,带,参数,远程,过程,调用,已经,包括,SUN,工作,工作站,Solaris,操作,操作系统,系统,PC,机,Windows,NT,操作,操作系统,系统,网络,环境,实现,实现,原理,实现,机制,实现,原理,TCP,IP,应用,广泛,网络,网络协议,协议,已成,成为,计算,计算机,计算机行业,算机,行业,开放,开放系统,系统,互联,既成事实,成事,事实,标准,大多,大多数,多数,版本,包括,Solaris,Unix,TCP,IP,操作,操作系统,系统,一部,一部分,部分,Microsoft,公司,Windows,NT,包含,TCP,IP,协议,套接,接字,Socket,传送,层,提供,供给,应用,应用程序,程序,接口,互连,互连网,连网,域,支持,TPC,IP,协议,Socket,成为,两种,操作,操作系统,系统,之间,实现,通信,基础,Socket,先是,4BSD,Unix,提出,采用,Client,Server,模式,通信,机制,解决,网络,之间,间连接,连接,数据,数据通,数据通信,通信,问题,Solaris,系统,Socket,机制,提供,一系,一系列,系列,系统,调用,实现,进程,间通信,通信,Windows,NT,提供,WinSock,借用,4BSD,Unix,中套,套接,接字,概念,Windows,几种,特点,增加,扩充,实现,Socket,既有,共同,共同点,同点,特点,利用,共同,共同点,同点,实现,两种,操作,操作系统,系统,之间,通信,差别,编程,实现,很大,不同,实现,机制,RPC,通常,常采,采用,所谓,Client,Server,工作,方式,一种,非对称,对称,工作,方式,RPC,调用,调用者,用者,Client,远程,过程,调用,调用者,用者,Server,图,所示,发往,网络,信息,网络,库,例程,处理,使用,面向,连接,或非,连接,协议,传送,送信,信息,Server,进程,等待,待客,客户,请求,激活,远程,过程,远程,过程,执行,完毕,交给,网络,网络,信息,传送,送到,Client,Client,接受,信息,

,图,RPC,模型,两种,不同,操作,操作系统,系统,之间,实现,RPC,调用,采用,工作,机制,单一,一系,系统,基本,基本一致,一致,系统,不同,运行,进程,不同,图,所示,

,图,跨平台,平台,RPC,模型,图,图,实现,相同,功能,Unix,系统,调用,调用者,用者,Client,进程,调用,本系,系统,远程,过程,实现,Windows,NT,系统,远程,过程,调用,同样,Windows,NT,系统,调用,调用者,用者,Client,进程,调用,本系,系统,Unix,系统,远,过程,系统,差异,Unix,系统,统和,NT,系统,服务,进程,实现,不同,图,Client,Client,Server,Server,进程,实现,功能,实现,方法,不同,细节,程序,介绍,说明,函数,介绍,用户,函数,调用,Client,CallRemote,Proc,不论是,Unix,Windows,NT,用户,函数,函数调用,调用,异地,过程,调用,Server,两个,函数,RegisterRemoteProc,每个,需要,异地,调用,过程,调用,本机,远程,调用,过程,表,注册,DelRegistration,用于,取消,本机,远程,调用,过程,表,注册,过程,Unix,Windows,NT,如一,一个,进程,需要,异地,调用,必须,使用,RegisterRemoteProc,注册,之后,过程,任意,系统,CallRemoteProc,调用,当此,进程,不再,调用,使用,DelRegistration,远程,调用,过程,表,注销,过程,浪费,浪费资源,资源,用户,不可,函数,数集,集中,Server,主要,两个,函数,注册,服务,RegisteredProc,Client,端,远程,过程,调用,服务,CallProc,必须,使用,远程,调用,功能,启动,后台,守护,服务,进程,一个,等待,本机,机上,RegisterRemoteProc,DelRegistration,发出,发出请求,请求,维护,远程,调用,过程,表记,记录,当前,最新,信息,等待,网上,上任,任一,机器,进程,发出,出调,调用,本机,过程,申请,检索,远程,调用,过程,表,确定,过程,是否,可调,调用,调用,不可,可调,调用,信息,返回,发出,申请,进程,程序,简介,Server,服务,服务程序,程序,Server,主要,函数,实现,两个,功能,注册,监控,Client,调用,进程,申请,RegisteredProc,Register,RemoteProc,DelRegistration,实现,注册,功能,CallProc,反应,Client,调用,进程,申请,Unix,NT,系统,这种,函数,功能,划分,一致,下面,别介,介绍,实现,方法,Unix,系统,Server,方程,程序,注册,主要,要用,用到,同一,一台,台机,机器,上进,进程,信息,交换,技术,Unix,提供,消息,队列,实现,进程,消息,传送,消息,放在,在内,内核,一个,相应,消息,队列,号,标志,号,记作,msgid,标识,特定,消息,队列,进程,过所,所知,msgid,读写,队列,消息,系统,调用,msgget,创建,一个,新,消息,访问,一个,存在,消息,队列,msgget,打开,消息,队列,msgsnd,调用,一个,消息,挂,队列,列上,进程,系统,调用,msgrcv,队列,读取,消息,Client,监控,程序,主要,要用,用到,网络,进程,通信,Unix,提供,API,Berkeley,套接,接字,Socket,提供,多个,应用,应用程序,程序,维护,系统,调用,建立,进程,网络,网络连接,连接,图,说明,这部,这部分,部分,程序,利用,面向,连接,Socket,系统,调用,实现,过程,监控,程序,主要,部分,图,Server,部分,分所,所示,完成,成对,Client,申请,反应,调用,所需,进程,Windows,NT,Server,方程,程序,

,图,监控,程序,socker,结构,注册,部分,实现,Unix,完全,不同,NT,没有,消息,队列,机制,使用,命名,管道,方法,传送,送信,信息,命名,管道,服务,进程,一个,多个,客户,进程,之间,间通信,通信,单向,双向,管道,registeredProc,进程,服务,进程,调用,CreateNamePipe,函数,建立,一个,命名,管道,实例,指定,定名,名字,有命,命名,管道,实例,共享,相同,管道,名,客户,进程,RegisterRemoteProc,DelRegistration,调用,CreateFile,CallNamePipe,函数,指定,同样,管道,名,连接,接到,一个,管道,实例,进程,使用,相同,同名,名字,管道,进行,通信,完成,成对,远程,调用,过程,表,管理,NT,监控,部分,应用,WinSock,编写,WinSock,Berkeley,Socket,发展,基本,基本原理,本原,原理,一致,这部,这部分,部分,实现,核心,结构,Unix,一致,图,所示,WinSock,特点,程序,程序实现,实现,细节,存在,差异,Windows,Sockets,服务,动态,连接,库,WinSock,DLL,形式,实现,必须,须要,先调,调用,WSAStartup,函数,Windows,Sockets,DLL,进行,初始,初始化,协商,WinSock,版本,支持,分配,必要,资源,应用,应用程序,程序,关闭,套接,接字,应,调用,WSACleanup,终止,Windows,Sockets,DLL,使用,释放,资源,以备,备下,下次,使用,NT,产生,生子,进程,函数,CreateProcess,实现,机制,Unix,系统,fork,不同,Socket,号,不能,直接,传给,子,进程,父,进程,须,调用,调用函数,函数,WSADuplicateSocket,获得,套接,接字,描述,描述符,子,进程,调用,调用函数,函数,WSASocket,之后,父,进程,共享,相同,套接,接字,描述,描述符,其余部分,余部,部分,基本,Unix,相同,Client,方程,程序,Unix,系统,统和,Windows,NT,Client,方程,程序,实现,方法,程序,程序结构,结构,差别,不大,不分,说明,调用,CallRemoteProc,函数,主要,应用,Socket,应用,应用软件,软件,Client,系统,调用,实现,远程,机器,机器间,通信,完成,成对,上过,过程,调用,返回,程序,程序实现,实现,图,Client,部分,分所,所示,作者,单位,中国,中国航天,国航,航天,航天工业,天工,工业,总公司,公司,CAD,CAM,开发,培训,培训中心,中心,北京,100037
,参考,参考文献,文献,全民,张,倪,工作,工作站,系统,系统结构,结构,软件,软件开发,开发,应用,北京,国防,国防工业,工业,出版,出版社,1993,钟,皓,陈,淑珍,Windows,环境,TCP,IP,网络,编程,应用,计算,机工,机工程,工程,1997,23,13,Microsoft,Corporation,Microsoft,Win32,程序,程序员,参考,大全,北,京,清华,清华大学,清华大学出版社,华大,大学,出版,出版社,1994