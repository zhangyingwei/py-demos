软件,学报,
JOURNAL,OF,SOFTWARE
1999,10,卷,Vol,10,No,1999



,Web,分布,分布式,布式,网络,实时,监控,控系统,系统,设计,实现,杨家,海,吴建平,建平,李,钟,辉,摘要,大规,大规模,规模,网络,建设,应用,网络,网络管理,管理,问题,变得,越来,越来越,越来越重,重要,传统,集中,集中式,中式,网络,网络管理,管理,管理模式,模式,越来,越来越,难以,胜任,这项,工作,及时,提出,分布,分布式,布式,网络,网络管理,管理,概念,该文,文论,论述,一个,Web,分布,分布式,布式,网络,实时,监控,控系统,系统,WebRMonitor,总体,结构,系统,实现,关键,关键技术,技术,数据,采集,模块,设计,实现,实时,时数,数据,可视,可视化,表示,关键,关键词,计算,计算机,计算机网,计算机网络,算机,网络,网络,网络管理,管理,客户,服务,服务器,务器,结构,Web,服务,服务器,务器,浏览,浏览器,公共,网关,接口,CGI,Java,中图,中图法,图法,分类,分类号,TP393
,
Design,and,Implementation,of,a,Web,based,Distributed,
Network,Monitoring,System
YANG,Jia,hai1,WU,Jian,ping1,LI,Zhong,hui2
1,Department,of,Computer,Science,and,Technology,Tsinghua,University,Beijing,100084,Center,of,China,Education,and,Research,Network,Tsinghua,University,Beijing,100084,
Abstract,With,the,construction,and,application,of,lots,of,large,scale,internetworks,it,becomes,more,and,more,important,to,manage,these,internetworks,Since,the,conventional,centralized,network,management,mode,becomes,less,competent,a,distributed,network,management,architecture,is,proposed,in,this,paper,The,structure,of,a,Web,based,distributed,network,realtime,monitoring,system,WebRMonitor,is,discussed,and,its,key,implementing,techniques,are,given,such,as,the,gathering,decentralized,presentation,of,the,realtime,data,and,so,on,
Key,words,Computer,network,network,management,client,server,architecture,Web,server,browser,CGI,common,gateway,interface,Java,计算,计算机,算机,通信,技术,飞速,飞速发展,发展,计算,计算机,计算机网,计算机网络,算机,网络,已经,渗透,渗透到,社会,经济,各个领域,领域,社会,经济,发展,越来,越来越,越来越重,重要,作用,工作,生活,方式,发生,巨大,变革,今天,天人,网络,依赖,过去,电话,依赖,几分,几分钟,分钟,中断,难以,难以容忍,容忍,网络,规模,扩大,影响,网络,网络服务,服务,因素,增多,网络,网络设备,设备,交换,交换机,换机,MODEM,路由,路由器,通信,通信线,通信线路,线路,失效,问题,主机,终端,端的,故障,问题,软件,中出,出现,问题,安全,保密,问题,网络,网络管理,管理,复杂,复杂度,大大,大大增加,大增,增加,进行,有效,网络,网络管理,管理,确保,信息,信息网,信息网络,网络,可靠,稳定,运行,已经,成为,一个,迫切,迫切需要,需要,解决,问题,开放,标准,基础,网络,互连,领域,网络,网络管理,管理,应,标准,标准化,实施,国际,国际标准,国际标准化组织,标准,标准化,组织,ISO,Internet,组织,这方,这方面,做,大量,工作,并提,提出,协议,议标,标准,和服,服务,ISO,公共,共管,管理,信息,服务,协议,CMIS,CMIP,Internet,简单,简单网络,网络,网络管理,管理,协议,SNMP,v1,v2,历史,客观,原因,ISO,CMIS,CMIP,定义,完备,没有,得到,工业,工业界,业界,广泛,广泛支持,支持,Internet,SNMP,一经,提出,得到,工业,工业界,业界,广泛,响应,公司,相继,推出,SNMP,协议,议标,标准,网络,网络管理,管理,管理系,管理系统,系统,统和,产品,Sun,公司,SunNet,Manager,HP,OpenView,IBM,NetView,6000,产品,推出,一度,缓解,网络,网络管理,管理,矛盾,早期,开发,发出,网络,网络管理,管理,管理系,管理系统,系统,大都,单一,主机,Manager,Agent,模式,运行,网络,网络管理,管理,管理软件,软件,Manager,Agent,收集,网管,信息,完成,成对,信息,分拣,处理,理工,工作,网络,各项,参数,绘制,显示,网管,主机,完成,一种,高度,高度集中,集中,网络,网络管理,管理,管理模式,模式,势必,势必会,造成,网管,主机,超负,超负荷,负荷,运转,极大,大地,降低,网络,网络管理,管理,管理系,管理系统,系统,运行,效率,相关,参数,绘制,显示,依赖,依赖于,赖于,相应,网管,平台,没有,一个,统一,高效,监控,界面,网络,网络管理,网络管理员,管理,管理员,操作,使用,带来,一定,困难,及时,引入,分布,分布式,布式,网络,网络管理,管理,概念,体现,现在,低端,网管,信息,收集,表现,现在,用户,用户端,端的,监控,管理,界面,面上,Web,Java,技术,快速,发展,广泛,广泛应用,应用,得分,分布,分布式,布式,网络,网络管理,管理,概念,变成,现实,近期,推出,新型,网络,网络管理,管理,管理系,管理系统,系统,Advent,公司,NetMonitor,10,用户,用户界面,界面,直接,实现,当今,最为,流行,Web,浏览,浏览器,之上,使用,用户,直接,接通,Web,浏览,浏览器,完成,成对,网络,管理,监控,传统,网络,网络管理,管理,产品,供应,供应商,HP,IBM,新版,网管,产品,中加,加入,Web,支持,11,无疑,统一,一管,管理,界面,分布,分布式,布式,管理,理上,上进,进行,一种,成功,尝试,使用,用户,不必,重新,重新学习,新学,学习,复杂,界面,操作,操作方法,方法,需,浏览,WWW,方便,轻松,完成,网络,网络管理,管理,管理工作,理工,工作,不必,局限,局限于,限于,特定,平台,最大,大限,大限度,限度,实现,跨平台,平台,管理,功能,WEB,网络,网络管理,管理,刚刚,刚刚开始,厂商,提供,产品,功能,有限,尤其,我国,目前,正在,进行,一系,一系列,系列,全国,全国性,行业,行业性,计算,计算机,计算机网,计算机网络,算机,网络,建设,购买,大量,传统,集中,集中式,中式,网络,网络管理,管理,平台,自主,扩充,现有,有功,功能,保护,原有,投资,国家,九五,攻关,攻关项目,项目,目的,资助,进行,利用,现有,网管,平台,WEB,分布,分布式,布式,网络,网络管理,管理,管理方,管理方面,研究,本文,讨论,一个,WEB,分布,分布式,布式,网络,实时,监控,控系统,系统,WebRMonitor,总体,结构,系统,实现,关键,关键技术,技术,数据,采集,模块,设计,实现,实时,时数,数据,可视,可视化,表示,WebRMonitor,总体,结构,监控,控系统,系统,IBM,NetView,6000,网络,网络管理,管理,管理系,管理系统,系统,运行,IBM,RS,6000,工作,工作站,站上,基础,利用,收集,网管,信息,客户,客户端,端的,Web,浏览,浏览器,实现,网络,网络流量,流量,信息,实时,监控,并能,提供,NetView,6000,系统,较为,相似,操作,操作界面,界面,以方,方便,网络,网络管理,网络管理员,管理,管理员,使用,系统,实现,目标,尽可,尽可能,可能,最大,大限,大限度,限度,实现,分布,分布式,布式,监控,模式,尽量,减轻,网管,主机,负担,提高,网络,网络管理,管理,管理效率,效率,根据上述,上述,要求,结合,现有,网络,网络管理,管理,管理系,管理系统,系统,特点,所要,设计,流量,监控,控系统,系统,统分,分为,模块,流量,数据,获取,模块,统计,统计图,图形,绘制,制模,模块,绘制,特性,控制,制模,模块,基本,设计,思想,满足,系统,实现,目标,标的,前提,提下,降低,管理,引起,额外,外带,带宽,开销,客户,服务,服务器,务器,模式,通信,机制,制为,实现,上述,设计,思想,提供,可能,既能,利用,NetView,6000,提供,先进,进网,网络,网络管理,管理,功能,特性,利用,Web,强大,图形,功能,服务,服务器,务器,网管,服务,服务器,务器,NetView,6000,统一,采集,实时,时数,数据,服务,服务器,务器,进程,接收,网管,服务,服务器,务器,采集,数据,并进,进行,行数,数据,数据格式,格式,分析,转换,传送,工作,网管,主机,机上,实时,时数,数据,据传,传送,送到,客户,客户端,以后,客户,客户端,端的,Web,浏览,浏览器,相应,数据,完成,实时,图形,绘制,实现,图形,特性,控制,以使,网管,主机,绘制,大量,实时,曲线,沉重,沉重负担,重负,负担,解脱,脱出,主要,精力,用于,数据,采集,故障,发现,工作,大大,大大提高,提高,网管,服务,服务器,务器,运行,效率,
WebRMonitor,总体,实现,结构,图,所示,

,图,WebRMonitor,总体,结构,WebRMonitor,系统,Client,Server,模式,工作,客户,服务,服务器,服务器之间,务器,之间,通信,采用,HTTP,协议,进行,服务,服务器,服务器端,务器,端,程序,负责,实时,时数,数据,采集,格式,转换,工作,客户,客户端,客户端程序,程序,负责,实时,曲线,曲线图,线图,图形,绘制,曲线,特性,控制,附加,功能,实现,Plug,in,具有,实时,时运,运行,高效,高效性,存取,客户,客户端,端的,文件,决定,Plug,in,实现,统计,统计图,图形,绘制,功能,功能模块,模块,利用,Java,applet,多线,多线程,线程,支持,平台,无关,性,使用,Java,applet,实现,绘制,特性,控制,功能,功能模块,模块,Web,Server,网管,服务,服务器,务器,运行,同一,一台,主机,机上,服务,服务器,服务器端,务器,端,标准,CGI,接口,口实,实现,网络,网络管理,管理,服务,服务器,务器,收集,网络,实时,时数,数据,存取,访问,传送,其文,文档,类型,客户,客户端,Plug,in,浏览,浏览器,登记,MIME,类型,客户,客户端,Plug,in,方式,完成,流量,数据,读取,存储,完成,实时,时数,数据,图形,绘制,工作,NetView,6000,网络,网络管理,管理,管理系,管理系统,系统,相应,功能,一致,提供,绘图,区内,相应,鼠标,事件,处理,功能,指示,流量,数据,对应,时间,客户,客户端,Java,applet,完成,图形,绘制,特性,实时,动态,动态控制,控制,直接,调用,Plug,in,实现,地方,方法,进行,图形,更新,建立,一个,线程,用以,以定,定时,时调,调用,Plug,in,实现,一本,地方,方法,完成,成对,Server,端,CGI,调用,实时,获取,流量,数据,考虑,网络,需,监控,多个,设备,多条,通信,通信线,通信线路,线路,界面,设计,应该,考虑,用户,需要,进行,定制,功能,附加,部分,本系,系统,实现,功能,实时,时数,数据,采集,实时,时数,数据,采集,WebRMonitor,系统,基础,如前,如前所述,前所,功能,服务,服务器,务器,一端,网管,服务,服务器,务器,实时,时数,数据,采集,需要,解决,两个,问题,一个,数据,对象,系统,统收,收集,网管,服务,服务器,务器,上来,一个,网管,服务,服务器,务器,收集,数据,传递,递给,Web,服务,服务器,务器,数据,采集,网管,服务,服务器,务器,对象,之间,通信,信利,利用,标准,SNMP,协议,进行,解决,问题,两种,方法,选择,一个,方法,利用,NetView,6000,系统,已经,实现,功能,能来,进行,一个,方法,实现,一套,SNMP,协议,重新,实现,一套,SNMP,协议,工作,工作量,较大,考虑,NetView,6000,系统,多方,多方面,优秀,决定,利用,NetView,6000,已有,功能,能来,实现,现实,实时,时数,数据,收集,这种,选择,一定,程度,增加,了解,解决,问题,难度,NetView,6000,XnmGraph,绘图,命令,直接,接接,接收,SnmpCollect,实时,收集,动态,动态数据,数据,二进制,进制,格式,完成,绘图,工作,NetView,6000,IBM,公司,商品,商品化,软件,未公开,公开,相应,数据,接口,利用,NetView,6000,收集,数据,实现,现实,实时,时数,数据,分布,分布式,布式,图形,显示,必须,分析,数据,结构,格式,大量,查阅,NetView,6000,相关,技术,手册,大量,实验,清楚,实时,时数,数据,格式,实现,随机,二进制,进制,数据,转换,转换成,换成,ASCII,格式,数据,工作,后面,实时,时数,数据,据传,传递,递给,Web,服务,服务器,务器,Web,服务,服务器,务器,传送,送到,客户,客户端,进行,显示,绘图,提供,保证,数据,数据处理,处理,传送,标准,CGI,接口,外部,数据,接入,Web,服务,服务器,务器,提供,标准,标准接口,接口,CGI,编程,核心,接口,参数,确定,处理,网管,服务,服务器,务器,收集,数据,暂存,存在,一个,文件,需设,设置,一个,文件,文件名,参数,filename,绘制,任意,一点,曲线,需设,设置,一个,个位,位置,参数,pos,用于,指示,上次,文件,读取,位置,了解,解决,分布,分布式,布式,数据,存储,一致,一致性,问题,保证,Client,Server,两端,端的,流量,数据,数据文件,文件,一致,一致性,每次,客户,客户端,端的,流量,监控,控系统,系统,初,启,数据,数据文件,文件,存在,数据,数据文件,文件,长久,久保,保存,减轻,系统,初,启,网络,传输,量,应向,CGI,附加,一个,test,参数,一致,一致性,测试,标志,CGI,读取,相应,历史,文件,组,数据,结束,时间,传回,客户,客户端,客户,客户端,传回,时间,文件,时间,间数,数据,相比,比较,相等,说明,两端,端的,历史,历史数据,数据,一致,传送,新,数据,相等,说明,Server,端,网管,主机,历史,历史数据,数据,数据文件,文件,发生,变动,删除,除过,历史,历史数据,数据,数据文件,文件,造成,成文,文件,重新,新建,建立,组,结束,时间,发生,发生变化,生变,变化,重传,整个,历史,历史数据,数据,数据文件,文件,保证,Client,Server,两端,流量,数据,一致,一致性,数据,处理,理上,存在,测试,读取,取出,出入,出入口,入口,流量,文件,共,种数,数据,数据类型,类型,应,传输,传输数据,数据,头部,加入,字节,标识,指示,后续,数据,类型,保证,客户,客户端,网络,传输,异步,性,情况,标识,确定,定数,数据,数据类型,类型,正确,完成,成数,数据,读取,处理,理工,工作,定义,表示,入,出口,测试,测试数据,数据,后面,字节,十六,十六进制,进制,ASCII,码字,字串,二进制,进制,长,整型,转换,而来,代表,表相,相应,文件,组,结束,时间,用于,说明,明后,后续,数据,入,出口,流量,数据,其后,组,字节,十六,十六进制,进制,ASCII,字串,读取,相应,历史,历史数据,数据,数据文件,文件,最后,位置,客户,客户端,进行,记录,供,下次,CGI,调用,pos,参数,使用,即是,16,字节,单位,数据,数据流,CGI,程序,cgic,提供,cgiHeaderContentType,库函数,函数,指定,传输,文档,MIME,类型,标志,application,x,netmon,plugin,新,MIME,类型,客户,客户端,已向,浏览,浏览器,登记,此类,类型,Plug,in,进行,读取,处理,完成,成本,数据,数据文件,文件,记录,统计,统计图,图形,绘制,工作,数据,数据处理,处理,传送,模块,工作,流程,图,所示,

,图,实时,时数,数据,处理,传送,实时,时数,数据,图形,图形化,显示,Web,浏览,浏览器,中实,实现,图形,绘制,困难,Java,技术,Plug,ins,技术,实现,关键,关键问题,问题,体现,现实,实时,实时性,效率,灵活,灵活性,活性,定时,刷新,实时,曲线,并能,灵活,有效,图形,进行,控制,实时,刷新,数据,客户,客户端,实现,一个,定时,发送,查询,信息,进程,线程,客户,客户端,服务,服务器,服务器端,务器,端来,实现,数据,更新,定时,时间,间隔,选取,应,网管,服务,服务器,务器,采集,集数,数据,间隔,保持,同步,考虑,Plug,in,具有,实时,时运,运行,高效,高效性,存取,客户,客户端,端的,文件,决定,Plug,in,实现,统计,统计图,图形,绘制,功能,功能模块,模块,利用,Java,applet,多线,多线程,线程,支持,平台,无关,性,使用,Java,applet,实现,绘制,特性,控制,功能,功能模块,模块,涉及,Java,Plug,in,接口,问题,Netscape,公司,开发,Live,Connect,技术,利用,技术,实现,同一,主页,Java,Plug,in,Javascript,对象,之间,相互,互调,调用,三者,有机,结合,合在,合在一起,一起,实现,更为,强大,功能,详细,阅读,Live,Connect,技术,资料,发现,正好,适合,合流,流量,监控,控系统,系统,客户,客户端,大功,功能,功能模块,模块,设计,设计方案,方案,技术,要求,Netscape,公司,网址,提供,一套,Live,Connect,Plug,in,SDK,软件,软件开发,开发,环境,决定,Live,Connect,技术,核心,构造,流量,监控,控系统,系统,客户,客户端,端的,大功,功能,功能模块,模块,Live,Connect,技术,用于,实现,同一,主页,Java,Plug,in,Javascript,对象,之间,联系,调用,核心,心部,部分,分为,Java,直接,主页,Plug,in,Javascript,对象,进行,行相,相互,互调,调用,Plug,in,Javascript,之间,关联,Java,间接,实现,Java,Plug,in,相互,互调,调用,实现,手段,主页,Plug,in,封装,装成,一个,新,Java,netscape,plugin,Plugin,是从,java,lang,Object,派生,Netscape,提供,Java,Package,包含,Java,Plugin,操作,完成,成对,Plug,in,中实,实现,地方,方法,调用,Plug,in,JRI,Java,Runtime,Interface,Java,运行,行时,时间,库,接口,实现,Java,相应,域,存取,方法,调用,Java,applet,提供,控制,界面,定时,线程,用户,设定,设定值,直接,写入,Plugin,之中,相应,域,即成,成员,变量,调用,Plugin,地方,方法,完成,相应,控制,功能,Java,applet,Netscape,公司,提供,Java,Package,包含,一个,新,Java,netscape,javascript,JSObject,方法,实现,同一,主页,Javascript,对象,联络,JSObject,Netscape,主页,Javascript,对象,进行,封装,得来,Server,端,CGI,调用,用以,数据,数据文件,文件,生成,更新,Plug,in,完成,尽可,尽可能,尽可能减少,可能,减少,系统,初,启,网络,数据,数据传输,据传,传输,量,客户,客户端,文件,长久,久保,保存,允许,实例,共享,建立,清除,共享,标志,文件,实现,多个,相同,监控,实例,共享,同一,一本,数据,数据文件,文件,减少,重复,流量,数据,数据传输,据传,传输,保证,客户,客户端,数据,数据文件,文件,有效,有效性,系统,初,启,检测,Client,Server,两端,数据,数据文件,文件,一致,一致性,一致,需,传送,送客,客户,客户端,数据,数据文件,文件,没有,新,数据,删除,客户,客户端,数据,数据文件,文件,进行,重传,网络,数据,数据传输,据传,传输,所存,存在,异步,性,Plug,in,数据,读取,处理,加入,一个,文件,锁,以防,防止,发送,发送数据,数据,乱序,现象,出现,Plugin,添加,一个,互斥,锁,用以,实现,Java,applet,方法,Plug,in,代码,关键,参数,存取,互斥,互斥性,保证,相关,数据,一致,一致性,结束,结束语,目前,WebRMonitor,系统,开发,联调,已经,完成,系统,交由,CERNET,网络,中心,测试,测试运行,试运,试运行,运行,系统,WebRMonitor,使用,Netscape,公司,独有,Live,Connect,技术,目前,支持,Netscape,Navigator,更,高,版本,浏览,浏览器,网络,中心,心目,目前,大量,使用,运行,Solaris,UNIX,操作,操作系统,系统,工作,工作站,客户,客户端,端的,流量,监控,控系统,系统,平台,暂定,暂定为,定为,Solaris,UNIX,系统,平台,Server,端,网管,主机,操作,操作系统,系统,运行,IBM,RS,6000,AIX,Web,服务,服务器,务器,相应,CGI,程序,AIX,系统,平台,实现,系统,扩充,完善,工作,做,准备,以下,两个,进一步,一步,完善,系统,支持,更多,客户,客户端,端系统,系统,平台,广泛,使用,Windows,95,Windows,NT,本系,系统,具有,更,广泛,应用,范围,环境,增加,监控,内容,目前,实时,监控,主要,集中,几条,主干,主干网,网线,线路,实时,进出,流量,实际,实际上,用户,想,监视,不仅仅,仅仅,内容,用户,也许,想,知道,特定,定线,线路,丢,包,率,出错,出错率,关键,网络,互连,设备,运行,运行状况,行状,状况,路由,路由器,CPU,利用,利用率,用率,内存,利用,利用率,用率,设备,环境,环境温度,温度,系统,采用,分布,分布式,布式,客户,服务,服务器,务器,结构,模块,模块化,设计,系统,扩展,带来,极大,方便,监控,路由,路由器,CPU,利用,利用率,用率,需,服务,服务器,务器,数据,采集,改变,采集,对象,即可,目前,已经,着手,手上,上述,工作,尽快,本系,系统,实用,实用化,通用,通用化,本文,研究,得到,国家,九五,科技,科技攻关,攻关,攻关项目,项目,基金,资助,本文,通讯,通讯联系,联系,联系人,杨家,海,北京,100084,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,作者,作者简介,简介,杨家,海,1966,生,副教授,教授,主要,研究,领域,网络,网络协议,协议,协议工,工程,工程学,网络,网络体系,网络体系结构,体系,体系结构,结构,网络,网络管理,管理,应用,吴建平,建平,1953,生,教授,博士,博士生,导师,主要,研究,领域,网络,网络协议,协议,协议工,工程,工程学,网络,网络体系,网络体系结构,体系,体系结构,结构,网络,网络管理,管理,李,钟,辉,1974,生,硕士,硕士生,主要,研究,领域,网络,网络管理,管理,作者,单位,杨家,海,吴建平,建平,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084,李,钟,辉,中国,国教,教育,科研,计算,计算机,计算机网,算机,网网,网络,中心,清华,清华大学,华大,大学,北京,100084,参考,参考文献,文献,ISO,OSI,Basic,Reference,Model,for,Open,System,Interconnection,IS7498,Oct,1984
,Lynch,Daniel,C,Rose,Marshall,T,Internet,System,Handbook,Reading,MA,Addison,Wesley,Publishing,Company,Inc,1993
,ISO,OSI,Management,Information,Service,Definition,Part,Common,Management,Information,Service,IS9595,ISO,Switzerland,May,1988
,ISO,OSI,Management,Information,Protocol,Definition,Part,Common,Management,Information,Protocol,IS9596,ISO,Switzerland,May,1988
,Case,Jeffrey,D,Fedor,Mark,et,al,A,Simple,Network,Management,Protocol,SNMP,RFC1157,Internet,Network,Working,Group,May,1990
,Galvin,James,M,McCloghrie,Keith,Administrative,Model,for,Version,of,the,Simple,Network,Management,Protocol,SNMPv2,RFC1445,Internet,Network,Working,Group,Internet,Engineering,Task,Force,Apr,1993,ftp,nic,ddn,mil
,IBM,Corporation,NetView,for,AIX,Administrator,s,Reference,Version,Sep,1994
,Gottfried,Luderer,Hosoon,Ku,et,al,Network,Management,Agents,Supported,by,a,Java,Environment,In,International,Symposium,on,Integrated,Network,Management,ISINM,97,San,Diego,CA,1997,http,www,eas,asu,edu,netsys
,Sun,Microsystems,The,Java,Language,Environment,A,White,Paper,http,www,sun,com
,10,Advent,Network,Management,Inc,Delivering,Web,Based,Network,Management,Tools,http,www,adventnet,com
,11,HP,Corporation,HP,Openview,Bridging,the,Gap,http,www,hp,com,openview
,本文,1998,01,13,收到,原稿,1998,04,15,收到,修改,修改稿,改稿