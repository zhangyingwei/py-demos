软件,学报,
JOURNAL,OF,SOFTWARE
2000,Vol,11,No,P,207,212



,协议,集成,测试,系统,IP,v4,协议,一致,一致性,测试,王建国,建国,吴建平,建平,陈,修,环,冯,晓,东,摘,TCP,IP,协议,实现,一致,一致性,测试,保证,Internet,网络,网络设备,设备,之间,互连,互操作,操作,基础,该文,协议,集成,测试,测试环境,环境,进行,IP,Internet,protocol,协议,一致,一致性,测试,研究,实际,测试,IP,端系统,系统,统和,中继,系统,统分,采用,分布,分布式,布式,远程,横断,式,测试,测试法,设计,计生,生成,IP,一致,一致性,测试,集,已将,IP,协议,一致,一致性,测试,应用,用到,路由,路由器,开发,研制,过程,关键,关键词,一致,一致性,测试,协议,测试,系统,测试,测试方法,方法,IP,Internet,protocol,TTCN,tree,and,table,combined,notation,分类,分类号,TP393
Conformance,Testing,on,Internet,IP,v4,Based,on,Protocol,Integrated,Test,System
WANG,Jian,guo,WU,Jian,ping,CHEN,Xiu,huan,FENG,Xiao,dong
,Department,of,Computer,Science,and,Technology,Tsinghua,University,Beijing,100084,
Abstract,Conformance,testing,of,TCP,IP,protocol,is,the,first,step,for,interoperability,among,Internet,network,products,The,conformance,testing,of,the,Internet,protocol,with,a,PITS,protocol,integrated,test,system,is,presented,in,this,paper,The,authors,use,the,distributed,test,method,and,remote,traverse,test,method,to,test,IP,Internet,protocol,end,system,and,IP,relay,system,in,Internet,respectively,IP,test,suite,in,TTCN,tree,and,table,combined,notation,is,derived,according,to,IP,test,purposes,Furthermore,the,IP,conformance,testing,has,been,applied,for,developing,routers,
Key,words,Conformance,testing,protocol,test,system,test,method,IP,Internet,protocol,TTCN,tree,and,table,combined,notation,计算,计算机,计算机网,计算机网络,算机,网络,通信,技术,不断,不断进步,进步,协议,设计,实现,变得,越来,越来越,复杂,同一,协议,议标,标准,时会,存在,多个,不同,实现,版本,保证,协议,实现,版本,之间,能够,完全,相互,互访,访问,并进,进行,可靠,通信,有效,手段,协议,实现,进行,测试,协议,测试,包含,种类,类型,测试,一致,一致性,测试,互操作,互操作性,操作,操作性,测试,试以,性能,测试,一致,一致性,测试,两种,测试,基础,目前,TCP,IP,协议,族,Internet,已经,成为,全球,信息,发展,交流,基础,TCP,IP,产品,之间,可靠,通信,未来,来信,信息,高速,高速公路,公路,发展,至关,至关重要,重要,准确,发现,路由,路由器,E,mail,系统,网络,网络设备,设备,设计,错误,必须,进行,TCP,IP,产品,互操作,操作,测试,之前,前来,进行,协议,一致,一致性,测试,成熟,OSI,协议,议和,和服,服务,协议,测试,理论,TCP,IP,协议,形式,形式化,描述,验证,测试,研究,开展,刚刚,起步,几年,努力,成功,开发,一套,协议,集成,测试,系统,PITS,protocol,implementation,conformance,statement,用于,TCP,IP,网络,网络产品,产品,多种,测试,试行,行为,TCP,IP,协议,核心,协议,IP,version,协议,以下,简称,IP,协议,进行,一致,一致性,测试,开发,发出,完整,TTCN,tree,and,table,combined,notation,格式,IP,Internet,protocol,测试,集,传统,OSI,等式,协议,相比,IP,协议,包括,两种,通信,模式,端系统,系统,模式,中继,系统,模式,进行,IP,协议,一致,一致性,测试,过程,引入,新,中继,测试,测试方法,方法,需要,已经,IP,协议,一致,一致性,测试,应用,用到,高性,高性能,性能,路由,路由器,研制,开发,发过,过程,国外,进口,路由,路由器,进行,实际,测试,本文,节,简要,介绍,PITS,系统,节,介绍,IP,测试,结构,测试,集,组织,节,介绍,路由,路由器,IP,v4,模块,一致,一致性,测试,节,总结,全文,协议,集成,测试,系统,PITS
,图,表示,PITS,总体,结构,PITS,系统,TTCN,测试,集为,基础,组织,测试,试过,过程,测试,并行,解释,执行,测试,测试,生成,工具,TUGEN,协议,EBE,external,behavior,expression,描述,自动,生成,TTCN,MP,格式,测试,集,TTCN,编辑,编辑器,标准,TTCN,GR,格式,测试,集,ISO,IEC,8882,转换,转换成,换成,TTCN,MP,格式,PICS,PIXIT,protocol,implementation,extra,information,for,testing,选择,测试,执行,TE,test,execution,所选,选择,测试,进行,解释,执行,TE,测试,执行,关键,引擎,PITS,部件,共同,共同完成,完成,测试,试工,工作,测试,集,内容,控制,测试,试过,过程,生成,测试,测试报告,报告,所需,需要,信息,TE,测试,事件,生成,比特,比特流,并发,发送,发送给,送给,相应,消息,缓冲,缓冲区,参考,实现,参考,实现,PITS,中和,测,实现,IUT,通信,底层,支持,参考,实现,下面,几种,消息,类型,消息,机制,通信,starttest,一个,测试,执行,stoptest,终止,一个,测试,执行,frame,send,out,TE,发送,一个,ASP,PDU,frame,receive,TE,接收,一个,ASP,PDU,quit,退出,测试,执行,过程,选用,适当,测试,集,参考,实现,PITS,不同,测试,测试方法,方法,不同,协议,进行,测试,

Fig,The,architecture,of,protocol,integrated,resting,system,PITS
,图,协议,集成,测试,系统,PITS,结构,结构图,构图,IP,一致,一致性,测试,测试方法,方法,结构,本节,介绍,IP,协议,主要,内容,IP,实现,测系统,系统,不同,分成,IP,端系统,系统,统和,中继,系统,一致,一致性,测试,IP,协议,简介,IP,协议,主要,IETF,RFC791,定义,描述,IP,功能,目的,数据,报,不同,互连,互连网,连网,网络,IP,模块,源,端,到达,目的,端,IP,模块,内嵌,Internet,主机,路由,路由器,IP,地址,分析,实行,IP,数据,报,转发,IP,节点,路由,转发,数据,报,最大,允许,包,长,小于,数据,报,长度,网络,传输,传送,长,数据,报,中继,系统,relay,system,路由,路由器,IP,协议,模块,有数,数据,报分,分段,segment,机制,相应,数据,报到,到达,端系统,系统,end,system,目的,主机,IP,模块,分段,数据,报,必须,重组,组起,组起来,起来,图,给出,IP,中继,系统,统和,端系统,系统,网络,分布,IP,数据,报,错误,检测,ICMP,Internet,control,message,protocol,报告,IGMP,Internet,group,message,protocol,完成,主机,路由,路由器,多播,功能,

Fig,The,role,of,IP,in,Internet
,图,IP,网络,环境,层次,IP,端系统,系统,一致,一致性,测试,IP,端系统,系统,测试,测试方法,方法,ISO,ITU,T,已经,ISO,IEC,IS,9646,ISO,IEC,9646,1993,ITU,T,X,290,ITU,T,X,290,1992,规定,用于,端系统,系统,抽象,测试,测试方法,方法,选择,分布,分布式,布式,测试,测试方法,方法,DTM,distributed,test,method,IP,端系统,系统,测试,测试方法,方法,DTM,设置,测试,器,LT,lower,tester,测试,器,UT,upper,tester,控制,观察,观察点,PCO,point,of,control,and,observe,控制,观察,测,IP,端系统,系统,行为,直接,接访,访问,端系统,系统,IP,模块,提供,服务,接口,实现,测试,器,UT,驱动,IP,模块,主动,发送,IP,数据,报以,检查,IP,模块,是否,能够,正确,上送,重组,IP,数据,报,IP,端系统,系统,测试,结构,图,表示,协议,集成,测试,系统,分布,分布式,布式,测试,结构,测,实现,IUT,implementation,under,test,实现,UT,采用,数据,数据链,链路,链路层,接口,DLPI,data,link,provider,interface,测试,通道,测试,执行,执行部,行部,部件,TE,IUT,之间,通信,信通,主,测试,通道,MTP,main,test,path,UT,辅助,测试,通道,ATP,auxiliary,test,path,测试,IP,接收,模块,TE,MTP,IUT,发送,测试,事件,ATP,UT,TE,报告,IUT,响应,测试,IP,发送,模块,ATP,TE,得到,测试,控制,消息,UT,驱动,IUT,主动,MTP,发送,IP,数据,报,TE,IP,测试,每个,测试,事件,解释,消息,流,PCO,标识,消息,缓冲,缓冲区,发送,发送给,送给,参考,实现,TE,接收,收到,到来,IUT,消息,测试,定义,进行,匹配,继续,继续执行,执行,新,测试,事件,得到,pass,失败,fail,测试,判决,

Fig,The,test,architecture,of,IP,end,system
,图,IP,端系统,系统,测试,结构,IP,中继,系统,一致,一致性,测试,ISO,IEC,9646,只定,定义,两种,适用,用于,中继,系统,测试,测试方法,方法,回绕,式,测试,测试方法,方法,横断,式,测试,测试方法,方法,回绕,法,测试,能力,过于,简单,不够,实用,横断,式,测试,测试方法,方法,需要,两个,测试,系统,两个,测试,系统,协调,调成,成为,困难,本节,介绍,一种,用于,IP,中继,系统,测试,方法,测试,结构,IP,中继,系统,测试,测试方法,方法,引入,远程,横断,式,测试,测试方法,方法,RTTM,remote,traverse,test,method,用于,IP,中继,系统,一致,一致性,测试,RTTM,应用,用到,IP,中继,系统,测试,结构,图,所示,测试,结构,IUT,两个,端口,对应,应于,两个,PCO,TE,PCO1,目标,主机,发送,一个,IP,ICMP,数据,报时,IP,路由,模块,路由,以太,以太网,LAN1,转发,发到,以太,以太网,LAN2,TE,处于,LAN2,PCO2,得到,一数,数据,报,PCO1,PCO2,集成,测试,器,需,利用,TE,执行,两个,PCO,测试,事件,可容,容易,易地,控制,两个,LT,协调,调过,过程,

Fig,The,test,architecture,of,IP,relay,system
,图,IP,中继,系统,测试,结构,TTCN,IP,测试,集,设计,IP,协议,特点,确定,测试,目的,设计,计生,生成,IP,一致,一致性,测试,集,一节,介绍,IP,测试,集,生成,设计,方法,IP,测试,集,设计,生成,成方,方法,目前,直接,FSM,EFSM,形式,形式化,描述,中生,生成,测试,序列,做,相当,工作,RFC,791,规定,IP,协议,OSI,协议,相比,比较,协议,行为,更,简单,实体,之间,没有,有用,用于,建,流,控,数据,报,交换,外部,行为,观察,一个,个协,协议,状态,环以外,以外,不存,存在,状态,之间,变迁,简单,协议,过程,外部,观察,协议,实体,行为,带来,困难,不适,适合,自动,生成,ISO,IEC,9646,建议,协议,测试,目的,设计,生成,IP,测试,集,表,
Table,IP,v4,test,suite
,表,IP,v4,测试,集,

test,group,Test,purpose,Test,cases,
IP,PDUPDU,format,13
IP,OPTOptions,implement,10
IP,SEGSegmentation,function,6
IP,RESReassemble,function,6
IP,BROBroadcast,function,7
IP,MULMulticast,function,4
IP,ERROption,error,handing,function11

,测试,组,测试,目地,测试,数据,报,格式,选项,实现,分段,功能,重组,功能,广播,功能,多播,功能,错误,选项,处理,测试,目的,生成,过程,图,所示,ISO,IEC,9646,定义,测试,目的,看作,一致,一致性,性需求,需求,一部,一部分,部分,对应,测试,试过,过程,精确,描述,事实,事实上,协议,描述,以外,一致,一致性,性关系,关系,附加,协议,实现,假设,条件,影响,测试,目的,测试,生成,一致,一致性,性关系,关系,定义,协议,描述,迹,实现,迹,之间,关系,选定,一致,一致性,性关系,关系,测试,描述,实现,类别,进行,限制,

Fig,The,process,of,test,purposes,generation
,图,测试,目地,生成,过程,最终,精炼,并提,提取,取出,IP,一致,一致性,测试,目的,集合,设计,IP,协议,一致,一致性,测试,包括,测试,组,共,53,测试,测试,组,涵盖,IP,协议,描述,中所,主要,功能,包括,OPTION,选项,功能,具有,完备,性,测试,例举,举例,IP,端系统,系统,统一,一致,一致性,测试,表,验证,IP,主机,是否,正确,接收,收到,已经,过分,分段,数据,报文,并能,重组,组成,一个,完整,数据,报,TE,直接,PCO1,发送,两个,个数,数据,报,两个,个数,数据,报,分别独立,独立,立地,网络,传输,路由,到达,SUT,之后,TE,期望,PCO2,得到,一个,正确,重组,更,数据,报,测试,判决,PCO2,事件,作出,图,所示,
Table,One,of,test,cases,for,IP,end,system
,表,IP,端系统,系统,测试,

Nr,LabelBehavior,descriptionConstraint,Ref,VerdictComments
1,Pco1,Ip,Seg,SecondIp,Seg,02,Pco1,Ip,Seg,FirstIp,Seg,01,Start,Tm,01Ip,Reass,01,Pco2,Ip,Reass,Whole,Pass,Pco2,Otherwise,Fail,Timeout,Tm,01,Fail,

Test,Case,Name,IP,REASSEMBLE,02,Group,IP,END,IP,RES,
Purpose,To,verify,that,send,two,sub,datagrams,disorderly,
IUT,can,correctly,reassemble,them,to,a,whole,datagram,
COMMENTS,PDU,约束,细节,参见,图,FLAG,field,000,FRAGMENT,field,offset,in,original,data,FLAG,field,010,FRAGMENT,field,IP,中继,系统,统一,一致,一致性,测试,表,测试,测试,目的,验证,测试,器,发送,一个,具有,紧密,路由,记录,路由,选项,strict,route,and,record,route,option,数据,报,IUT,是否,正确,源,路由,替换,目的,目的地,地址,记录,出口,地址,图,所示,TE,PCO1,发送,一个,带有,紧密,路由,选项,IP,数据,报,源地,源地址,地址,设置,设置成,测试,器,网络,LAN1,IP,地址,目的,目的地,地址,设置,设置成,IP,路由,路由器,入口,地址,源,路由,填充,测试,器,网络,LAN2,IP,地址,IP,路由,路由器,接收,收到,数据,报时,应用,源,路由,测试,器,网络,LAN2,IP,地址,代替,目的,目的地,地址,数据,报,源,路由,域,中将,IP,路由,路由器,出口,地址,记录,记录下来,录下,录下来,下来,处理,数据,报,IP,路由,路由器,传送,送到,TE,控制,观察,观察点,PCO2,产生,事件,期望,测试,器,会生,生成,PASS,测试,判决,
Table,One,of,test,cases,for,IP,relay,system
,表,IP,中继,系统,测试,

Nr,LabelBehavior,descriptionConstraint,Ref,VerdictComments
1,Pco1,Ip,Strict,OptionIp,Strop,01,Start,Tm,01,Pco2,Ip,Strict,OptionIp,Strop,02Pass,Pco2,Otherwise,FailProcedure,Error
5,Timeout,Tm,01,FailNot,Forwarded

Test,Case,Name,IP,STRICTROUTE,01,Group,IP,RELAY,IP,OPT,
Purpose,To,verify,when,tester,sends,a,datagram,with,strict,and,recorder,route,option,
IUT,can,correctly,replace,destination,address,with,source,route,and,recorder
its,outgoing,address,
COMMENTS,PDU,约束,细节,参见,图,sour,addr,field,Tester,sour,dest,addr,field,lut,in,sour,route,Tester,dest,sour,addr,field,Tester,sour,dest,addr,field,Tester,dest,sour,route,lut,out,路由,路由器,IP,v4,模块,一致,一致性,测试,协议,集成,测试,测试环境,环境,PITS,国外,进口,路由,路由器,进行,IP,协议,中继,系统,统一,一致,一致性,测试,先后,自行,研制,研制开发,开发,路由,路由器,原型,原型,IP,模块,进行,一致,一致性,测试,产品,测试,进行,比较,图,路由,路由器,原型,原型,测试,比较,示意,示意图,意图,图,进口,路由,路由器,Router,路由,路由器,原型,测试,比较,示意,示意图,意图,

Fig,Compare,between,router,prototype,and,图,路由,路由器,原型,比较,

,图,路由,路由器,原型,进口,路由,路由器,比较,
Fig,Compare,between,router,prototype,and,imported,router
,测试,可得,得出,下结论,结论,路由,路由器,原型,原型,相比,处理,IP,选项,IGMP,功能,存在,问题,错误,原型,IP,一致,一致性,测试,之后,功能,性能,明显,改善,测试,通过率,51,提高,将近,100,进口,路由,路由器,测试,发现,简化,RFC,791,RFC,1122,提到,选项,细节,实践,实践证明,证明,通信,通信软件,软件,设计,开发,发过,过程,一致,一致性,测试,检测,测定,定位,位错,错误,提供,修正,建议,非常,方法,本文,文中,重点,介绍,IP,一致,一致性,测试,测试方法,方法,实际,路由,路由器,产品,产品开发,开发,测试,应用,中所,使用,测试,测试方法,方法,已经,PITS,系统,得以,实现,IP,端系统,系统,统和,中继,系统,引入,两种,不同,测试,测试方法,方法,设计,开发,TTCN,格式,IP,v4,一致,一致性,测试,集,自行,开发,路由,路由器,原型,某国,国外,进口,路由,路由器,进行,实际,测试,实践,实践证明,证明,PITS,TCP,IP,一致,一致性,测试,可行,设计,计生,生成,IP,v4,测试,集,相当,完备,技术,更深,深入,应用,用到,今后,TCP,IP,协议,一致,一致性,测试,活动,注意,一致,一致性,测试,发展,离不开,不开,实际,应用,需求,更加,加重,重视,实际,网络,网络设备,设备,ATM,交换,交换机,换机,Internet,路由,路由器,分布,分布式,分布式系统,布式,系统,测试,需求,基金,基金项目,项目,本文,研究,得到,国家,国家自然科学基金,自然,自然科,自然科学,科学,科学基金,基金,No,69725003,69682002,69473011,资助,作者,作者简介,简介,王建国,建国,1972,生,博士,博士生,主要,研究,领域,计算,计算机,计算机网,计算机网络,算机,网络,协议,测试,吴建平,建平,1953,生,博士,教授,博士,博士生,导师,主要,研究,领域,计算,计算机,计算机网,计算机网络,算机,网络,协议,测试,陈,修,环,女,1940,生,教授,主要,研究,领域,计算,计算机,计算机网,计算机网络,算机,网络,冯,晓,东,1972,生,工程,工程师,主要,研究,领域,计算,计算机,计算机网,计算机网络,算机,网络,协议,测试,作者,单位,王建国,建国,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084,吴建平,建平,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084,陈,修,环,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084,冯,晓,东,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084,参考,参考文献,文献,Bi,Jun,Wu,Jian,ping,Towards,abstarct,test,method,for,relay,system,testing,In,Davidson,I,ed,Proceedings,of,the,IFIP,10th,International,Workshop,on,Protocol,Test,Systems,Amsterdam,Elsevier,Science,Publishers,1997
,Chanson,S,T,Zhu,Jin,song,A,unified,approach,to,protocol,test,sequence,generation,In,Smith,J,ed,Proceedings,of,the,IEEE,INFORCOM,Conference,New,York,IEEE,Press,1993
,Huang,C,M,Lin,Y,C,Jang,M,Y,An,executable,protocol,test,sequence,generation,method,for,EFSM,specified,protocols,In,Litwack,D,W,ed,Proceedings,of,the,IFIP,5th,International,Workshop,on,Protocol,Test,Systems,Amsterdam,Elsevier,Science,Publishers,1995
,Bourhfir,C,Dssouli,R,Aboulhamid,E,et,al,Automatic,executable,test,case,generation,for,extended,finite,state,machine,protocols,In,Marteniuk,R,ed,Proceedings,of,the,IFIP,10th,International,Workshop,on,Protocol,Test,Systems,Amsterdam,Elsevier,Science,Publishers,1997
,收稿,日期,1999,01,12
,修,稿,日期,1999,03,18
