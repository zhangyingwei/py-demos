软件,学报,
JOURNAL,OF,SOFTWARE
1999,No,1999



,一个,并行,并行计算,计算,支持,环境,设计,实现,陶,杰,鞠,九,滨,摘要,介绍,一个,并行,并行计算,计算,支撑,环境,PCSE,parallel,computation,supporting,environment,引入,FORK,JOIN,原语,无论是,使用,过程,程程,程序,程序设计,设计,语言,使用,逻辑,逻辑程序,程序,程序设计,设计,语言,编写,用户,源程序,程序,本系,系统,并行,并行执行,执行,而为,用户,进行,高速,计算,提供,一个,软件,基础,目前,PCSE,支持,FORTRAN,C,PROLOG,应用,应用程序,程序,并行,并行执行,执行,关键,关键词,并行,并行计算,计算,分布,分布式,布式,程序,程序设计,设计,网络,工作,工作站,中图,中图法,图法,分类,分类号,TP311
Design,and,Implementation,of,a,Parallel,Computation,Supporting,Environment,
TAO,Jie,JU,Jiu,bin,Abstract,A,parallel,computation,supporting,environment,named,PCSE,parallel,computation,supporting,environment,is,described,in,this,paper,By,introducing,from,two,process,operation,primitives,FORK,and,JOIN,any,program,whether,written,in,procedure,programming,language,or,logic,programming,language,can,be,executed,in,parallel,PCSE,provides,an,excellent,software,interface,for,the,users,to,carry,out,on,high,speed,calculation,At,present,PCSE,supports,FORTRAN,C,and,PROLOG,applications,executed,in,parallel,Key,words,Parallel,computing,distributed,programming,networked,workstations,计算,计算机,算机,一个,重要,应用,应用领域,领域,科学,科学计算,计算,天气,天气预报,预报,人造,人造卫星,卫星,飞机,轮船,外形,设计,物质,结构,分析,复杂,运算,离不开,不开,计算,计算机,算机,科学,科学计算,计算,是非,非常,费时,问题,大型,大型机,巨型,巨型机,机上,求解,需,花费,几天,几十,几十天,十天,时间,微机,机上,上计,计算,耗时,时会,更,长,目前,大型,大型机,巨型,巨型机,价格,价格昂贵,昂贵,不能,普遍,应用,更多,依靠,微机,尤其,工作,工作站,进行,科学,科学计算,计算,UNIX,工作,工作站,已用,用得,非常,普遍,很多,多用,多用户,用户,拥有,一批,网络,网络连接,连接,工作,工作站,工作,工作站,大部,大部分,部分,分时,时间,空闲,提出,使用,网络,空闲,闲工,工作,工作站,进行,并行,并行计算,计算,方法,目前,前人,研制,并行,系统,一种,一类,程序,程序设计,设计,语言,没有,一个,统一,适合,合于,语言,包括,过程,程程,程序,程序设计,设计,语言,逻辑,逻辑程序,程序,程序设计,设计,语言,并行,系统,科学,科学计算,计算,使用,语言,种类,繁多,必要,设计,一个,统一,计算,模型,本文,描述,支撑,环境,PCSE,parallel,computation,supporting,environment,即是,目的,研制,提供,两条,功能,功能强大,强大,进程,操作,原语,FORK,JOIN,无论是,FORTRAN,C,PROLOG,语言,书写,程序,能够,网络,工作,工作站,群,并行,并行执行,执行,提高,计算,计算速度,速度,FORK,JOIN,语义,包含,并行,并行性,程序,网络,环境,并行,并行执行,执行,行时,需要,进行,并行,并行任务,任务,派生,汇合,并行,并行任务,任务,派生,生就,一个,任务,执行,派生,生出,并行,并行执行,执行,任务,分配,配给,不同,处理,处理机,完成,任务,执行,行时,时间,可能,不同,需要,完成,汇合,合起,起来,进行,后续,任务,后续,任务,以是,单一,以是,新,并行,并行任务,任务,新,并行,并行任务,任务,进行,派生,汇合,下去,直至,整个,程序,结束,FORK,语句,形式,FORK,l,l,新,进程,标识,标识符,FORTRAN,程序,l,一个,语句,标号,C,程序,l,一个,特定,标记,PROLOG,程序,l,一个,谓词,执行,一个,FORKl,语句,派生,生出,标识,标识符,l,新,进程,准备,启动,执行,进程,必需,信息,空闲,处理,处理机,分配,配给,进程,没有,可用,空闲,处理,处理机,进程,进入,排队,栈,等待,FORK,派生,计算,派生,FORK,嵌套,充分,充分利用,分利,利用,用处,处理,处理机,资源,各处,处理,处理机,处于,忙碌,状态,特别,PROLOG,程序,同一,一子,子句,中能,并行,本系,系统,实现,AND,并行,子目,子目标,目标,不多,程序,递归,现象,常见,PROLOG,程序,必须,允许,FORK,嵌套,获得,高,性能,FORK,语句,相配,相配合,配合,JOIN,语句,形式,JOIN,n,n,派生,生出,并发,发进,进程,个数,JOIN,语句,附有,一个,计数,计数器,初始,初始值,一个,派生,进程,得到,计数,计数器,n,比较,计数,计数器,小于,n,表明,进程,并发,发进,进程,最后,一个,进程,占用,处理,处理机,释放,释放出,释放出来,放出,执行,正在,排队,栈,中等,等待,任务,排队,栈,空,该处,处理,处理机,空闲,计数,计数器,等于,n,表明,并发,发进,进程,已得,得到,汇合,合起,起来,继续,继续执行,执行,后续,任务,FORK,JOIN,两个,原语,需要,用户,加入,原程序,程序,不会,用户,增加,太大,负担,下面,左边,一列,矩阵,FORTRAN,原程序,程序,斐,波纳,波纳契,数,求解,PROLOG,原程序,程序,右边,一列,加入,FORK,JOIN,并行,并行程序,行程,程序,DO,10,J,DO,J,10,DO,20,I,FORK,10
,C,I,J,J,DO,30,K,10,DO,20,I,30,C,I,J,C,I,J,+A,I,K,B,K,J,C,I,J,20,CONTINUE,DO,15,K,15C,I,J,C,I,J,+A,I,K,B,K,J,20CONTINUE
,JOIN,8

,fib,fib,fib,fib,fib,N,M,N1,is,N,N2,is,N,fib,N,M,N1,is,N,N2,is,N,fib,N1,M1,fib,N2,M2,FORK,fib,N1,M1,M,is,M1+M2,fib,N2,M2,JOIN,M,is,M1+M2,上述,FORTRAN,并行,并行程序,行程,程序,意味,意味着,进程,并行,并行执行,执行,每个,进程,求解,C,矩阵,一列,每个,进程,执行,程序,10,20,之间,语句,并不一定,不一,一定,同一,同一时,一时,时刻,得出,进程,得出,主,处理,处理机,用户,提交,任务,处理,处理机,进行,汇合,进行,后面,任务,上述,PROLOG,并行,并行程序,行程,程序,意味,意味着,fib,N1,M1,远程,执行,fib,N2,M2,执行,执行,fib,N1,M1,fib,N2,M2,可能,继续,派生,最大,大程,大程度,程度,开发,并行,并行性,系统,实现,预编,编译,用户,提交,并行,并行程序,行程,程序,必须,须经,预编,编译,过程,产生,并行,子,任务,网络,工作,工作站,站上,并行,并行执行,执行,预编,编译,扫描,描到,一个,FORK,语句,配对,JOIN,语句,进行,粒度,检查,系统,存在,额外,开销,些小,小任,任务,不适,适合,远程,执行,并行,并行任务,任务,务必,必须,进行,粒度,控制,文献,描述,FORK,JOIN,语义,实现,分布,分布式,布式,Prolog,系统,是因为,没有,进行,粒度,控制,导致,加速,速比,高,过程,程程,程序,程序设计,设计,语言,用户,派生,任务,含有,循环,语句,循环,次数,循环,循环体,体内,语句,条数,数控,控制,粒度,粒度,低于,预先,给定,数值,任务,FORK,语句,执行,FORK,操作,逻辑,逻辑程序,程序,程序设计,设计,语言,用户,派生,任务,往往,递归,归程,程序,递归,深度,控制,粒度,详见,文献,粒度,检查,合格,粒度,足够,FORK,JOIN,语句,形成,一个,并行,子,任务,FORTRAN,C,等过,过程,程程,程序,程序设计,设计,语言,子,任务,包含,FORK,标识,标识符,JOIN,包括,
JOIN,语句,子,过程,相当,相当于,当于,C,语言,言中,函数,下同,包括,FORK,全局,全局变量,变量,全局,全局变量,变量,作用,用于,过程,多个,过程,共享,原程序,程序,分解,多个,并行,子,任务,确保,生成,每个,模块,独立,编译,正确,执行,必须,原程序,程序,全局,全局变量,变量,每个,个子,任务,全局,全局变量,变量,已经,赋值,全局,全局变量,变量,需,代入,已得,得到,子,任务,中加,加入,过程,定义,语句,每个,个子,任务,过程,形式,出现,PROLOG,逻辑,逻辑程序,程序,程序设计,设计,语言,子,任务,包含,整个,原程序,程序,派生,生出,谓词,提问,形式,出现,简单,单性,原因,子,任务,允许,有数,数据,依赖,减少,机,通信,进程,结构,PCSE,能够,派生,生出,子,任务,进程,称做,顾客,进程,不能,派生,生出,子,任务,进程,称做,服务,进程,派生,任务,务要,粒度,控制,必须,顾客,进程,FORK,原语,做,粒度,检查,粒度,不够,FORK,执行,子,任务,不能,派生,一个,顾客,进程,可能,变成,一个,服务,进程,用户,提交,任务,主机,机上,运行,一个,主进,进程,一个,中央,进程,主进,进程,一个,顾客,进程,接受,受用,用户,提交,任务,中央,进程,负责,责任,任务,任务分配,分配,资源,资源管理,管理,FORK,执行,行时,中央,进程,请求,远程,执行,一个,进程,中央,进程,选择,一个,空闲,处理,处理机,没有,有空,空闲,处理,处理机,中央,进程,请求,送入,任务,队列,中排,排队,中央,进程,维持,一个,任务,队列,一个,空闲,处理,处理机,表,一个,进程,阻塞,表,一个,顾客,进程,表,任务,队列,存放,等待,执行,并行,并行任务,任务,空闲,处理,处理机,表记,记录,可用,空闲,处理,处理机,初始,初始值,用户,指定,进程,阻塞,表,记录,JOIN,原语,阻塞,进程,顾客,进程,表,记录,未,完,顾客,进程,进程,号,处理,处理机,名字,收到,个数,存放,PCSE,实现,嵌套,进程,程派,派生,一个,顾客,进程,可能,派生,生出,一个,多个,顾客,进程,分清,进程,父子,父子关系,子关,关系,PCSE,赋予,每个,进程,一个,全局,唯一,任务,号,数字,字表,表示,主进,进程,接受,用户,任务,一级,级任,级任务,任务,任务,号,派生,任务,二级,级任,级任务,任务,任务,号,01,02,03,二级,级任,级任务,任务,派生,任务,三级,级任,级任务,任务,任务,号,三位,三位数,位数,011,012,021,022,依此,依此类推,此类,类推,串行,任务,保持,原任,任务,号,不变,去掉,一个,任务,号,最末,一位,即可,可知,知道,其父,任务,台,处理,处理机,机上,运行,一个,调度,调度员,负责,收集,处理,处理机,机上,CPU,状态,发现,CPU,空闲,即刻,中央,进程,报告,中央,进程,派送,任务,队列,首任,任务,任务,队列,空,中央,进程,相应,修改,空闲,处理,处理机,表,台,主机,机上,最多,运行,顾客,进程,顾客,进程,可能,中途,受阻,进程,占用,空闲,CPU,资源,中央,进程,处理,处理机,机上,启动,新,顾客,进程,顾客,进程,可能,唤醒,导致,多个,进程,争,CPU,系统,系统性,性能,能变,变坏,PCSE,进程,数,规定,上限,进程,通信,PCSE,允许,嵌套,派生,一个,FORK,JOIN,之间,可能,存在,FORK,JOIN,一个,顾客,进程,创建,不能,马上,执行,其后,接受,任务,必须,检查,FORK,JOIN,语句,过程,顾客,进程,P,任务,没有,FORK,JOIN,P,变为,服务,进程,上任,任务,经编,编译,链接,形成,目标,码,串行,任务,务本,执行,遇到,FORK,原语,P,FORK,之前,未,执行,语句,形成,成串,串行,任务,务本,执行,FORK,进行,粒度,检查,粒度,不够,FORK,JOIN,去除,P,继续,后续,语句,进行,预编,编译,生成,一个,并行,子,任务,中央,进程,发送,处理,处理机,请求,信号,中央,进程,P,加入,顾客,进程,表,寻找,找空,空闲,机,找到,中央,进程,P,回送,任务,号,空闲,处理,处理机,名字,空闲,处理,处理机,机上,启动,一个,新,顾客,进程,P,子,任务,送给,新,顾客,进程,未找到,找到,中央,进程,P,回送,忙碌,信号,子,任务,送往,任务,队列,同一,一级,FORK,全部处,处理,理完,P,继续,顾客,进程,执行,保留,并行,并行任务,任务,最后,一个,服务,进程,得到,进程,结束,号,任务,送给,用户,送给,中央,进程,中央,进程,修改,顾客,进程,表,检查,相应,顾客,进程,并行,子,任务,是否,到齐,到齐,顾客,进程,阻塞,表,中央,进程,发送,唤醒,信息,激活,删除,顾客,进程,表,进程,阻塞,表,对应,项,顾客,进程,执行,完,保留,并行,并行任务,任务,遇到,JOIN,原语,顾客,进程,中央,进程,发送,请求,信息,同级,并行,并行任务,任务,得出,顾客,进程,JOIN,继续,后续,任务,进行,预编,编译,进入,阻塞,阻塞状态,状态,中央,进程,激活,每个,顾客,进程,最终,变成,成服,服务,进程,得到,实例,测试,使用,个例,例子,测试,实现,并行,并行计算,计算,支撑,环境,PCSE,性能,实验,环境,10Mbps,以太,以太网,连接,台,SUN,20,工作,工作站,初始,初始状态,状态,每个,处理,处理机,机上,运行,调度,调度员,主机,机上,运行,主进,进程,中央,进程,主进,进程,等待,待用,用户,任务,两个,个例,例子,PROLOG,语言,编写,斐,波纳,波纳契,数,求解,程序,梵,塔,问题,处理,处理程序,程序,两个,个例,例子,包含,递归,关系,并行,粒度,高,系统,系统性,性能,良好,个例,例子,FORTRAN,77,编写,重,磁,资料,转换,程序,GMPS,Vlasov,方程,求解,程序,VLAS,两个,程序,实际,应用,GMPS,利用,场频,频率,域,处理,原理,实现,重,磁,异常,处理,整个,处理,处理过程,理过,过程,包括,原始,原始数据,数据,扩充,二维,傅立叶,变换,频率,域,场,异常,转换,处理,二维,傅立叶,变换,中二,二维,傅立叶,变换,可进,进行,并行,化处,处理,频率,域,场,转换,处理,部分,并行,VLAS,使用,蒙特,蒙特卡洛,试验,粒子,子方,方法,求解,Vlasov,方程,程序,核心,心部,部分,密度,密度计,计算,这部,这部分,部分,费时,该部,部分,分划,划分,分为,多个,独立,子部,部分,PCSE,上进,进行,并行,并行计算,计算,最后,一个,个例,例子,C,语言,编写,矩阵,计算,程序,MULT,矩阵,规模,500,500,选择,此例,目的,观察,系统,开销,对系统,系统,系统性,性能,影响,采用,并行,并行计算,计算,本系,系统,引入,额外,开销,最大,开销,各处,处理,处理机,机上,启动,顾客,进程,所需,时间,时间,大约,2s,预编,编译,时间,时间,程序,长度,不同,不同,个例,例子,最长,GMPS,8s,子,任务,控制,信号,网络,传递,重定向,定向,操作,需,花费,一定,时间,时间,不长,情况,忽略,忽略不计,不计,MULT,执行,行时,时间,短,额外,开销,占,比例,较大,系统,系统性,性能,较差,表,给出,实验,加速,速比,定义,单机,机运,运行,行时,时间,机运,运行,行时,时间,比值,表,不同,同系,系统,规模,测试,测试程序,程序,加速,速比,加速,速比,处理,处理机,个数,
12345678
,测,试,程,序,FIB11,752,63,584,445,326,196,96
HANOI11,842,773,654,525,436,227,13
GMPS11,422,152,923,544,234,965,54
VLAS11,532,373,263,894,675,335,94
MULT11,281,651,771,821,891,941,97
4,实验,结果表明,表明,实现,并行,并行计算,计算,支撑,系统,可行,没有,增加,用户,太大,负担,情况,使用,用户,应用,应用程序,程序,并行,并行计算,计算,赢得,速度,系统,不足,不足之处,之处,预编,编译,部分,需,优化,缩短,开销,FORK,JOIN,语义,需,扩大,以使,更多,多种,种类,程序,PASCAL,LISP,能够,PCSE,运行,本文,研究,得到,国家,国家自然科学基金,自然,自然科,自然科学,科学,科学基金,基金,资助,作者,介绍,陶,杰,女,1966,生,副教授,教授,主要,研究,领域,分布,计算,系统,鞠,九,滨,1935,生,教授,博士,博士生,导师,主要,研究,领域,分布,计算,系统,计算,计算机,计算机网,计算机网络,算机,网络,本文,通讯,通讯联系,联系,联系人,陶,杰,长春,130023,吉林,吉林大学,大学,计算,计算机,计算机科学,算机,科学,科学系,学系,作者,单位,陶,杰,鞠,九,滨,吉林,吉林大学,大学,计算,计算机,计算机科学,算机,科学,科学系,学系,长春,130023
,参考,参考文献,文献,Carlton,M,Roy,R,V,A,distributed,Prolog,system,with,and,parallelism,IEEE,Software,1988,43,51
,Tao,Jie,Ju,Jiu,bin,Executing,Prolog,programs,in,parallel,on,network,workstation,Chinese,Journal,of,Advanced,Software,Research,1994,30,38
,Tian,Lai,sheng,Huang,Lian,shu,Tao,Jie,The,implementation,of,DC,in,a,loosely,coupled,distributed,environment,Chinese,Journal,of,Advanced,Software,Research,1995,227,236
,本文,1997,06,09,收到,原稿,1998,03,03,收到,修改,修改稿,改稿