计算,计算机,算机,研究,发展,
JOURNAL,OF,COMPUTER,RESEARCH,AND,DEVELOPMENT
1999,36,卷,11,Vol,36,No,11,1999



VR,环境,图像,生成,几项,关键,关键技术,技术,研究,于洪,川,吴,福,阮,宗,韦,穗,摘,文中,讨论,图像,VR,环境,图像,生成,未,标定,旋转,图像,序列,插,补,整合,全景,全景图,生成,项,关键,关键技术,技术,问题,给出,插,补,整合,全景,全景图,生成,成方,方法,方法,以下,优点,插,补,整合,图像,像是,源,图像,对应,摄像,摄像机,新,视点,视图,保证,插,补,整合,图像,真实,真实性,控制,控制参数,参数,变化,可得,得到,所需,视点,方向,插,补,整合,图像,即可,控制,视点,方向,此基础,基础,开发,切点,累积,全景,全景图,生成,技术,克服,传统,方法,中技,技术,缺陷,实用,实用性,强,方法,需要,事先,标定,摄像,摄像机,实验,表明,方法,处理,简单,效果,理想,关键,关键词,匹配,矩阵,图像,插,补,图像,整合,全景,全景图,生成,中图,中图法,图法,分类,分类号,TP391
THE,STUDY,OF,SEVERAL,KEY,TECHNIQUES,IN
BUILDING,VR,VISUAL,FIELD
YU,Hong,Chuan,WU,Fu,Chao,RUAN,Zong,Cai,and,WEI,Sui
,Institute,of,Artificial,Intelligence,Anhui,University,Hefei,230039,
Abstract,In,this,paper,three,key,techniques,are,discussed,in,building,VR,visual,field,based,on,real,images,They,are,interpolation,registration,and,panorama,of,uncalibrated,rotating,image,sequence,The,merits,of,their,implemented,methods,include,the,following,The,interpolated,registration,image,accords,with,perspective,geometry,This,one,ensures,that,the,interpolated,registration,image,is,real,When,the,coefficient,is,changed,the,inter,polated,registration,images,corresponding,to,different,views,can,be,obtained,It,means,that,the,view,direction,can,be,controlled,The,tac,point,cumulation,method,of,panoramic,images,overcomes,some,drawbacks,in,the,previous,methods,The,camera,needn,t,be,calibrated,The,experiment,indicates,that,the,effect,is,very,ideal,
Key,words,matched,matrix,image,interpolation,image,registrati,on,panoramic,images
1,引,真实,图像,VR,环境,生成,技术,研究,目前,VR,技术,研究,最为,活跃,研究,研究课题,课题,传统,统计,计算,计算机,算机,图形,图形学,形学,重构,场景,根本,本区,区别,不依,依赖,依赖于,赖于,几何,模型,利用,事先,获取,一组,图像,序列,环境,进行,编码,适当,变换,图像,生成,位于,不同,视点,新,视图,最终,实现,环境,完全,漫游,礧,优点,生成,环境,组,图像,反映,客观,真实,场景,涉及,下述,基本,问题,给定,真实,场景,两个,不同,视点,场景,图像,生成,两个,视点,新,场景,图像,图像,插,补,问题,给定,真实,场景,一组,局部,图像,生成,包含,组,局部,图像,新,视图,图像,整合,问题,多幅,实景,实景图,图像,拼接,成全,全景,全景图,基本,问题,目前,大多,使用,Image,Morphing,技术,方法,源,图像,像素,位置,颜色,插,所生,生成,图像,真实,真实性,没有,判断,标准,一个,自然,真实,真实性,标准,应,获得,插,补图,图像,像是,是否,是否是,同一,一场,场景,物体,新,视点,研究,表明,现行,Image,Morphing,技术,不能,保证,一点,2D,场景,不行,Seitz,提出,View,Morphing,技术,保证,插,补图,图像,真实,真实性,事先,需,已知,摄像,摄像机,机内,内外,参数,已知,场景,深度,信息,从未,标定,图像,序列,插,补,所需,视图,研究,重点,文献,提出,一种,视点,对应,未,标定,图像,序列,视图,插,补,技术,这种,技术,能够,保证,插,补图,图像,像是,摄像,摄像机,一新,视点,视图,物理,实现,克服,View,Morphing,技术,缺陷,获得,当前,摄像,摄像机,对应,插,补图,图像,得知,插,补图,图像,对应,视点,方位,姿态,方向,有待,进一步,一步,研究,本文,未,标定,旋转,图像,序列,提出,一种,当前,摄像,摄像机,确定,姿态,对应,视图,插,补,技术,基本,问题,核心,寻找,一个,变换,图像,重叠,部分,分对,对准,缝合,一个,新,更,视场,范围,视图,涉及,图像,匹配,部分,对应,关系,实现,对应,部分,分对,对准,所需,变换,目前,大多,使用,技术,获得,整合,图像,难以,保证,透视,关系,本文,讨论,摄像,摄像机,旋转,转运,运动,动产,产生,图像,序列,整合,问题,方法,以下,优点,整合,图像,满足,透视,几何,关系,保证,整合,图像,真实,真实性,整合,参数,变化,对应,应于,不同,视点,整合,即可,可得,得到,不同,视点,整合,图像,方法,需要,事先,标定,摄像,摄像机,基本,问题,目前,全景,全景图,基本,可分,分为,柱面,球面,立方,立方体,形式,柱面,全景,全景图,易,实现,普遍,采用,传统,构造,全景,全景图,方法,确定,定相,相邻,图像,重叠,范围,去掉,重叠,接缝,接缝处,缝合,缝合处,处理,拼接,360,柱面,全景,全景图,重叠,范围,确定,困难,接缝,接缝处,缝合,缝合处,处理,复杂,真实,真实感,实感,差,拼接,全景,全景图,要求,摄像,摄像机,预先,标定,技术,原因,一幅,较理想,理想,全景,全景图,构成,十分,十分困难,困难,近年,近年来,年来,这方,这方面,研究,尤以,McMillan,Szeliski,人工,工作,最为,突出,简化,摄像,摄像机,模型,图像,序,列,估计,焦距,摄像,摄像机,姿态,完成,成对,摄像,摄像机,标定,以此,来生,生成,成全,全景,全景图,做,直接,后果,处理,复杂,计算,累积,误差,较大,下文,进一步,一步,分析,克服,上述,缺陷,本文,提出,切点,累积,全景,全景图,生成,技术,旋转,图像,匹配,矩阵,匹配,矩阵,定义,摄像,摄像机,模型,采用,针孔,模型,摄像,摄像机,机先,摄取,图像,I1,旋转,转运,运动,摄取,图像,I2,可分,分为,两个,部分,Ii1,Ii2,I11,I21,I2,I1,重叠,部分,Ii2,运动,公共,视场,场部,部分,图,所示,


,图,旋转,图像,投影,关系,箭头,表示,光轴,方向,齐次,坐标,坐标系,旋转,转矩,矩阵,R,P1,u1,v1,w1,I1,P2,u2,v2,w2,I2,空间,X,平面,I1,I2,投影,
p1,KX,p2,KRX,K,摄像,摄像机,机内,内参,参数,数阵,通常,常有,参数,p2,KRK,1p1,M,KRK,mij,称,M,I1,I2,匹配,矩阵,直角,直角坐标,坐标,坐标系,匹配,矩阵,M,相差,常数,因子,唯一,确定,不难,不难看出,难看,看出,预先,已知,摄像,摄像机,机内,内参,参数,数阵,K,采用,三,参数,数算,算法,求解,M,摄像,摄像机,未,标定,定时,通常,常采,采用,八,参数,数算,算法,匹配,矩阵,求解,两幅,图像,I1,I2,之间,N,匹配,应用,八,参数,数算,算法,确定,匹配,矩阵,M,初值,求,初值,m
,xi1,yi1,I1,xi2,yi2,I2,一对,匹配,i,N,式,一对,匹配,得到,两个,线性,线性方程,方程,xi1,yi1,xi1xi2,yi1xi2,m,xi2
,xi1,yi1,xi1yi2,yi1xi2,m,yi2
,m,m11,m12,m13,m21,m22,m23,m31,m32,T
,可得,得到,2N,参数,m11,m12,m13,m21,m22,m23,m31,m32,方程,写成,矩阵,阵形,形式,
Am,b
,方阵,ATA,最小,特征,特征值,对应,特征,特征向量,向量,即为,m,最小,小二,解,10,求,精,m
,最小,小二,乘法,所求,m,下述,意义,
min,Am,b,解,xi1,yi1,代入,式,所得,匹,配,xi2,yi2,一定,误差,下面,给出,求,精算,算法,误差,达到,最小,

,显然,求,精,m,求,一具,m,
G,m,minG,m,是非,非线性,线性,最小,问题,以利,利用,Levenberg,Marquardt,算法,10,求解,算法,已成,成为,求解,该类,问题,标准,方法,Szeliski,提出,三,参数,数算,算法,采用,逆,Hessian,矩阵,方法,求解,参数,Levenberg,Marquardt,算法,逆,Hessian,矩阵,方法,极限,速,下降,降法,之间,间作,平滑,调和,方法,远离,最小,最小值,时运,运用,接近,最小,最小值,逐渐,切换,换到,方法,算法,本质,无法,克服,初始,初始值,选取,敏感,不能,保证,收敛,全局,最优,解,先天,缺陷,收敛,速度,无明,明显,区别,初始,初始值,选取,依赖,依赖于,赖于,摄像,摄像机,是否,严格,绕,光心,旋转,匹配,点选,选择,是否,精确,因素,通常,初始,初始值,误差,一定,范围,利用,求,精算,算法,匹配,误差,控制,像素,范围,之内,初始,初始值,误差,较大,必须,事先,校正,匹配,三,参数,数算,算法,八,参数,数算,算法,突出,特点,待定,参数,依赖,依赖于,赖于,摄像,摄像机,机内,内参,参数,数阵,估计,精度,McMillan,试图,柱面,几何,约束,实现,匹配,自动,匹配,几何,约束,核心,基础,矩阵,本质,矩阵,误差,过分,敏感,导致,匹配,果无,无法,实用,目前,这方,这方面,研究,局限,局限于,限于,匹,配,点错,错误,匹配,校正,匹配,匹配,精度,控制,研究,刚刚,起步,没有,一个,理论,框架,旋转,图像,序列,视图,插,补,过旋,旋转,图像,I1,I2,插,补,视图,I,图,所示,摄像,摄像机,绕,光心,旋转,获,两幅,图像,I1,I2,二者,匹配,矩阵,M,KRK,M,R,相同,特征,特征值,e,i,R,旋转,转矩,矩阵,旋转,转角,M,进一步,一步,分解,引述,以下,引理,引理,文献,11,已得,得到,严格,证明,引理,ti,i,T,i,列,量,T,MT,TRz,奇异,解,f,t1+it2,t1,it2,M,特征,特征值,e,i,ei,特征,特征向量,向量,

,引理,摄像,摄像机,机关,光心,绕,任意,轴,旋转,获,两幅,图像,匹配,矩阵,均,唯一,一分,分解,M,TRz,T,不难,构,造出,旋转,转角,变为,对应,匹配,矩阵,M,TRz,T,
M,下述,性质,M,I,I,单位,单位矩阵,矩阵,M,M,M,M,M,+,至此,两幅,源,图像,不难,插,同一,摄像,摄像机,旋转,转过,过程,任意,旋转,转角,对应,插,补图,图像,I,定义,插,补图,图像,I,匹配,P,齐次,坐标,称为,插,补,参数,显然,p1,I1,p2,I2,一对,匹配,
M,u1,v1,w1,T,M,u2,v2,w2,T
,不难,不难看出,难看,看出,I,对应,摄像,摄像机,投影,矩阵,KR,同一,摄像,摄像机,旋转,转至,角,获,视图,插,补图,图像,I,式,实用,实用化,表达,下述,直角,直角坐标,坐标,形式,

,

,mij,M,mij,M,摄像,摄像机,未,标定,定时,匹配,矩阵,分解,确定,两幅,图像,旋转,转角,无法,确定,旋转,旋转轴,转轴,插,补图,图像,旋转,视点,旋转,旋转轴,转轴,不变,旋转,转到,旋转,转角,对应,视图,摄像,摄像机,标定,内参,参数,数阵,K,已知,式,可进,进一步,一步,分解,
R,K,1MK,K,1TRzT,1K
,特征,特征值,对应,特征,矢量,n,K,1t3,即为,旋转,旋转轴,转轴,方向,矢量,通常,内参,参数,数阵,难以,难以获得,获得,本文,主要,讨论,摄像,摄像机,未,标定,定情,形,Szeliski,三,参数,数算,算法,迭代,求解,参数,即为,旋转,旋转轴,转轴,方向,矢量,内参,参数,数阵,采用,简化,化形,形式,预先,估计,Szeliski,三,参数,数算,算法,McMillan,投影,校正,正方,方法,焦距,预先,估计,迭代,校正,参数,焦距,估值,直接,影响,匹配,矩阵,M,精度,源,图像,序列,获得,焦距,精确,估计,估计值,误差,较大,代入,入校,校正,参数,误差,必然,累积,放大,获得,匹配,矩阵,精度,难以,控制,本文,提出,匹配,矩阵,分解,解法,原始,匹配,矩阵,M,出发,做,近似,估计,旋转,转变,变化,约束,一个,可变,变因,因子,加以控制,控制,引入,误差,计算,计算误差,误差,不会,累积,放大,获得,匹配,矩阵,精度,有效,控制,鲁棒性,强,几何,何解,解释,插,补,参数,I1,不变,I2,I21,部分,投影,I,插,补图,图像,I,I1,I,摄像,摄像机,投影,矩阵,K,I1,相同,图,


,图,插,补,参数,I2,不变,I1,I11,部分,投影,I,插,补图,图像,I,I2,I,摄像,摄像机,投影,矩阵,KR,I2,相同,图,


,图,插,补,参数,I1,I2,公共,视场,场部,部分,I12,I22,投影,I,I11,投影,I,I21,投影,I,插,补图,图像,I,I,I,I,摄像,摄像机,投影,矩阵,KR,图,


,图,插,补,参数,插,补,参数,取,不同,图像,I,对应,应于,同一,摄像,摄像机,不同,旋转,转角,视图,Seitz,提出,View,Morphing,技术,实现,摄像,摄像机,平移,运动,视图,插,补,需要,平行,视图,预先,校正,本文,提出,方法,仅限,仅限于,限于,旋转,图像,序列,插,补,无须,预先,校正,正视,正视图,视图,无须,标定,摄像,摄像机,生成,图像,像素,颜色,x,y,I,下述,公式,确定,颜色,c,x,y,表示,x,y,颜色,精确,匹配,插,补,应,满足,颜色,公式,如有,有误,误差,摄像,摄像机,未,绕,光心,旋转,光照,条件,改变,所致,光照,条件,改变,导致,插,补图,图像,颜色,变化,连续,确保,颜色,变化,连续,采用,淡入,淡入淡出,淡出,法,处理,插,补图,图像,摄像,摄像机,未,绕,光心,旋转,引入,误差,通常,常会,导致,插,补图,图像,重影,模糊,误差,不大,最近,近邻,邻域,法相,相类,类似,采用,插,补图,图像,反演,演到,源,图像,方法,可有,有效,克服,图像,重影,并能,确定,插,补图,图像,重叠,范围,颜色,淡入,淡入淡出,淡出,出处,处理,提供,图像,序列,整合,旋转,图像,序列,整合,合为,图像,I,任意,两张,相邻,旋转,图像,整合,处理,方法,节,中视,视图,插,补,技术,相同,旋转,图像,序列,整合,需,以下,变换,任意,两张,相邻,旋转,图像,匹配,矩阵,Mi,KRiK,Ri,图像,Ii,Ii,旋转,转矩,矩阵,
p1,M1p0
p2,M2p1
,
pi,Mipi,不难,推出,旋转,图像,Ii,I0,匹配,矩阵,对应,旋转,转矩,矩阵,旋转,转角,i,ik,k,仿照,式,匹配,矩阵,类似,分解,
M,i,TR,i,z,i,T,称为,整合,参数,同样,类似,整合,公式,

,上述,整合,公式,首尾,两幅,图像,整合,合在,同一,视点,变换,换关,关系,中间,图像,序列,整合,类似,匹配,关系,递推,推导,导出,整合,视点,初始,图像,I0,旋转,转角,角度,i,i,首尾,图像,整合,旋转,图像,Ii,I1,整合,i,i,应作,适当,调整,i,i,i,i,i,i,整合,参数,调整,

,匹配,矩阵,应,调整,不难,导出,n,幅,旋转,图像,序列,整合,公式,整合,图像,I,对应,摄像,摄像机,投影,矩阵,KR,n,几何,何解,解释,图像,整合,几何,何意,意义,上节,视图,插,补,几何,何解,解释,相类,类似,图,表示,幅,图像,整合,关系,看到,图像,I0,I1,In,中非,重叠,部分,整合,合到,I,I,I,n,重叠,部分,I02,I11,整合,合到,I,I12,In1,整合,合到,I,n,整合,图像,I,I,I,I,I,n,I,n,整合,参数,取,不同,图像,I,同一,摄像,摄像机,对应,应于,不同,旋转,视点,整合,图像,


,图,图像,整合,几何,何意,意义,两幅,源,图像,无法,获得,绕,不同,同轴,旋转,插,补图,图像,必须,增加,一幅,绕,不同,同轴,旋转,源,图像,仿照,式,将相,相邻,两幅,图像,逐一,一处,处理,串,型,处理,可获,获得,绕,不同,同轴,旋转,插,补图,图像,全景,全景图,生成,全景,视图,panoramic,images,一种,利用,实景,实景图,图像,组成,成全,全景,空间,技术,柱面,全景,全景图,易,实现,普遍,采用,Apple,Inc,公司,推出,Quicktime,VR,系统,全景,全景图,开窗,开窗口,窗口,口实,实时,生成,用户,所要,观察,虚拟,虚拟环境,环境,不同,全景,全景图,切换,换来,实现,现在,虚拟,虚拟环境,环境,漫游,使用,用户,主动,动地,从不,不同,视点,方向,了解,环境,全景,全景图,生成,成方,方法,很多,普遍,普遍存在,存在,相邻,图像,重叠,范围,确定,困难,接缝,接缝处,缝合,缝合处,处理,复杂,真实,真实感,实感,差,拼接,全景,全景图,要求,摄像,摄像机,预先,标定,缺陷,McMillan,Szeliski,未能,避免,问题,本文,提出,切点,累积,全景,全景图,生成,技术,有效,克服,上述,缺陷,获得,满意,效果,图,所示,投影,柱面,俯视,俯视图,视图,图像,I,投影,柱面,切点,C,改变,线段,投影,弧,A,C,CB,发生,生变,变形,保留,弧,A,C,CB,必然,带来,相邻,图像,重叠,范围,确定,接缝,接缝处,缝合,缝合处,处理,问题,生成,360,旋转,视点,切点,累积,避免,上述,问题,生成,所需,全景,全景图,节,提出,旋转,图像,序列,视图,插,补,技术,插,补,相邻,两幅,图像,旋转,转角,角度,对应,视图,逐一,旋转,图像,序列,相邻,图像,旋转,转角,视图,插,补,累积,保留,切点,即可,可获,获得,全景,全景图,需要,注意,插,补,参数,变化,步长,决定,切点,部分,宽窄,应,图像,横向,分辨,分辨率,辨率,定,


,图,投影,柱面,俯视,俯视图,视图,实验,运用,本文,提出,视图,插,补,技术,实验,误差,造成,重叠,区域,插,补图,图像,模糊,色彩,过渡,连续,问题,通常,误差,小时,图像,反演,色彩,淡入,淡入淡出,淡出,出处,处理,可获,获得,较为,满意,效果,图,a,b,c,摄像,摄像机,机关,光心,绕,同一,轴,旋转,获,图像,序列,图,d,幅,图像,同一,视点,整合,图像,整合,参数,图,a,对应,视点,整合,图,d,看出,整合,是非,非常,常理,理想,



,图,绕,同一,轴,旋转,图像,序列,整合,a,b,c,源,图像,d,整合,图像,整合,参数,图,a,b,c,d,摄像,摄像机,机关,光心,绕,不同,同轴,旋转,获,图像,e,f,幅,图像,同一,视点,整合,图像,整合,图像,对应,应于,源,图,a,d,视点,


,图,绕,不同,同轴,旋转,图像,序列,整合,a,b,c,d,源,图像,e,f,整合,图像,整合,参数,图,10,幅,旋转,图像,序列,生成,全景,全景图,看到,没有,有接缝,接缝,痕迹,效果,理想,全景,全景图,过于,细长,人为,显示,拉,宽,纵横,失调,


,图,切点,累积,法,生成,柱面,全景,全景图,结束,结束语,本文,圆满,满地,解决,图像,VR,环境,生成,视图,插,补,整合,全景,全景图,生成,项,关键,关键技术,技术,问题,方法,以下,优点,插,补,整合,图像,像是,源,图像,对应,摄像,摄像机,新,视点,视图,插,补,整合,图像,满足,摄像,摄像机,透视,几何,关系,保证,插,补,整合,图像,真实,真实性,控制,控制参数,参数,变化,即可,可得,得到,视点,方向,确定,插,补,整合,图像,此基础,基础,开发,切点,累积,全景,全景图,生成,技术,克服,传统,方法,中技,技术,缺陷,实用,实用性,强,方法,需要,事先,先知,知道,摄像,摄像机,参数,实验,表明,明处,处理,简单,效果,理想,本文,提出,方法,虚拟,虚拟现实,现实,环境,生成,图像,计算,领域,必将,具有,非常,广泛,应用,价值,实现,全景,全景图,插,补,实现,虚拟,虚拟现实,现实,环境,漫游,关键,一步,研究,重点,本课,课题,题得,得到,国家,自然,自然科,自然科学,科学,基金,项目,项目编号,编号,69875001,资助,于洪,川,男,1969,月,生,博士,研究,研究生,主要,研究,方向,计算,计算机,算机,视觉,虚拟,虚拟现实,现实,技术,作者,作者简介,简介,吴,福,男,1957,10,月,生,教授,主要,研究,方向,计算,计算机,算机,视觉,神经,神经网,神经网络,网络,阮,宗,男,1970,月,生,博士,研究,研究生,主要,研究,方向,计算,计算机,算机,视觉,虚拟,虚拟现实,现实,技术,韦,穗,女,1946,月,生,教授,博士,博士生,导师,主要,研究,方向,计算,计算机,算机,视觉,虚拟,虚拟现实,现实,技术,图像,图像处理,处理,作者,单位,安徽,安徽大学,大学,学人,人工,人工智能,智能,研究,研究所,合肥,230039
,参考,参考文献,文献,Seitz,S,M,Dyer,R,View,morphing,In,Proc,of,ACM,SIGGRAPH96,New,Orleans,1996,21,30
2,Yuan,Bo,Wu,Fuchao,Yu,Hongchuan,Wei,Sui,Image,interpolation,correspondence,with,viewpoint,In,Proc,of,Int,Symposium,on,Multispectral,Image,Processing,SPIE,Vol,3545,Wuhan,304,308
3,Werner,T,Hersch,R,D,Hlavac,V,Rendering,real,world,objects,using,view,interpolation,In,Proc,of,ACM,15th,Int,Conf,on,Computer,Vision,1995,ICCV,957,962
4,Chen,S,E,Quicktime,VR,An,image,based,approach,to,virtual,environment,navigation,In,Proc,of,ACM,SIGGRAPH95,Los,Angeles,1995,29,38
5,http,www,bdiamon,com
6,McMillan,L,Bishop,G,Plenoptic,modeling,An,image,based,rendering,system,In,Proc,of,ACM,SIGGRAPH95,1995,Los,Angeles,39,46
7,Szeliski,R,Shum,H,Y,Creating,full,view,panoramic,image,mosaics,and,environment,maps,In,Proc,of,ACM,SIGGRAPH97,Los,Angeles,1997
8,Irani,M,Anandan,P,Hsu,S,Mosaic,based,representations,of,video,sequences,and,their,applications,In,Proc,5th,ICCV95,1995,605,611
9,Szeliski,R,Video,mosaics,for,virtual,environments,IEEE,Trans,Computer,Graphics,and,Applications,1996,16,22,30
10,Press,W,H,Teukolsky,S,A,et,al,Numerical,Recipes,in,C,The,Art,of,Scientific,Computing,2nd,Edition,Cambridge,University,Press,1992
11,吴,福,于洪,川,摄像,摄像机,标定,理论,算法,自动,自动化,化学,学报,1999,25,Wu,Fuchao,Yu,Hongchuan,et,al,Camera,Self,Calibration,Theory,and,Algorithms,Acta,Automatica,Sinica,in,Chinese,1999,25,原稿,收到,日期,1999,03,17,修改,修改稿,改稿,收到,日期,1999,06,21