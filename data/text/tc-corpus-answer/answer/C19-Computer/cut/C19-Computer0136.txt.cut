计算,计算机,算机,应用,
COMPUTER,APPLICATIONS
1999,19,卷,10,Vol,19,No,10,1999



,NSAPI,增强,Web,Server,功能,汤,敏,郑,纪,蛟,摘,本文,介绍,HTTP,协议,简单,工作,作过,过程,NSAPI,知识,讲述,何用,NSAPI,编写,自定,自定义,定义,SAF,关键,关键词,HTTP,NSAPI,SAF,CGI
1,NSAPI,基础,简介,NSAPI,Netscape,Server,Application,Programming,Interface,缩写,实现,SAFs,Server,Application,Functiions,Server,带有,一套,SAFs,NSAPI,编写,SAFs,扩展,Server,功能,服务,服务器,务器,能够,请求,处理,分成,若干,步骤,完成,合理,合理安排,安排,一个,步骤,满足,速度,灵活,灵活性,活性,要求,NSAPI,NCSA,CERN,Web,Server,开发,开发者,设计,程序,程序员,提供,速度,Server,结合,紧密,紧密性,灵活,灵活性,活性,需要,Web,Server,处理,处理过程,理过,过程,深,理解,写,CGI,Common,Gateway,Interface,不会,会用,用到,NSAPI,需用,WAI,Web,Application,Interface,想开,开发,发有,特色,身份,身份验证,验证,登录,录过,过程,想,修改,已有,Server,行为,会用,用到,NSAPI,HTTP,基础,HTTP,协议,快速,简单,扩展,协议,协议,具体内容,体内,内容,不作,讲解,兴趣,读者,参阅,关文,关文献,文献,下面,HTTP,工作,作过,过程,一个,大致,浏览,浏览,浏览器,和服,服务,服务器,务器,相连,相连接,连接,发送,请求,服务,服务器,务器,接收,请求,产生,答复,断开,断开连接,连接,接收,一个,要求,保持,连接,请求,不断,断开,断开连接,连接,一个,请求,到来,请求,Method,Universal,Resource,Identifier,URI,空格,分开,HTTP,协议,版本,版本信息,信息,信息组,组成,请求,通常,几个,个头,headers,标志,头,结束,一行,行空,空格,时常,主体,数据,body,data,组成,Header,提供,请求,客户,信息,Body,data,典型,POST,GET,方法,典型,下面,样子,GET,index,html,HTTP,0
User,agent,Mozilla
Accept,text,html,text,plain,
image,jpeg,image,gif,服务,服务器,务器,收到,请求,并处,处理,每次,处理,一个,请求,服务,服务器,务器,能够,处理,多个,请求,处理,一个,请求,必须,须经,几个,步骤,称,这种,处理,处理方式,方式,请求,应答,处理,Request,Response,process,NSAPI,写,SAFs,这种,处理,处理过程,理过,过程,执行,服务,服务器,务器,产生,一个,一个包,包含,HTTP,协议,版本,HTTP,状态,码,status,code,空格,分开,解释,短语,reason,phrase,应答,通常,应答,后面,几个,个头,header,应答,主体,数据,body,data,典型,应答,所示,HTTP,200,OK
Server,Netscape,Enterprise,Server,0
Content,type,text,html
Content,length,83
,HTML,HEAD,TITLE,Hello,World,Title,HEAD,BODY,Hello,World,BODY,HTML,状态,码,和解,解释,短语,告诉,浏览,浏览器,服务,服务器,务器,处理,请求,状态,码,200,表明,服务,服务器,务器,成功,处理,请求,主体,数据,含有,请求,所要,项目,状态,码,重定向,定向,请求,服务,服务器,务器,浏览,浏览器,缓存,cache,错误,404,找,不到,请求,项目,请求,答复,处理,服务,服务器,务器,第一,第一次,一次,启动,启动时,执行,初始,初始化,化工,工作,等待,HTTP,请求,请求,答复,处理,通常,六个,连续,步骤,构成,a,AuthTrans,authorization,translation,请求,求进,进行,身份,身份验证,验证,姓名,密码,b,NameTrans,name,translation,逻辑,URI,统一,资源,标识,转换,换为,文件,文件系统,系统,路径,c,PathCheck,pathe,checking,检验,文件,文件系统,系统,路径,有效,有效性,请求,用户,权限,d,ObjectType,object,typing,确定,请求,资源,MIME,Multi,purpose,Internet,Mail,Encoding,类型,text,html,image,gif,e,Service,service,答复,复返,返回,客户,f,AddLog,adding,log,entries,日志,文件,添加,一条,记录,一步,达到,目的,需要,执行,一番,操作,操作,SAFs,实现,服务,服务器,务器,带有,多种,SAFs,SAFs,实现,服务,服务器,务器,功能,高级,特性,一个,SAF,设置,有权,访问,问到,请求,相关,信息,以前,SAFs,创建,建和,修改,改过,服务,服务器,务器,变量,Server,Variables,SAF,依靠,信息,执行,操作,SAF,目前,请求,求和,范围,目的,检查,修改,创建,服务,服务器,务器,变量,一个,SAF,返回,代码,告诉,服务,服务器,务器,是否,执行,成功,服务,服务器,务器,返回,代码,决定,跳到,一步,执行,行当,当前,一步,一个,SAF,取消,处理,通常,步骤,顺序,完成,产生,答复,复发,发送,发送给,送给,客户,Service,一步,日志,文件,增加,一条,记录,处理,原因,取消,请求,资源,不存,存在,用户,无权,访问,服务,服务器,务器,跳到,一个,新,称作,Error,步骤,Error,处理,Service,Error,SAF,客户,发送,描述,问题,HTML,页面,计入,日志,文件,指示,和服,服务,服务器,务器,内含,SAFs
,Enterprise,Server,几个,文本,文本文件,本文,文件,配置,几个,配置,配置文件,文件,存放,放于,服务,服务器,务器,主目录,目录,home,directory,config,目录,录下,https,servername,config,感兴,感兴趣,兴趣,三个,magnus,conf,obj,conf,mime,types,magnus,conf,文件,服务,服务器,务器,主,配置,配置文件,文件,决定,服务,服务器,务器,名字,端口,端口号,口号,全局,全局性,局性,设置,mime,conf,文件,决定,文件,扩展,扩展名,映射,射成,HTTP,文件,文件类型,类型,obj,conf,文件,配置,初始,初始化,请求,应答,处理,一步,SAFs,操作,可编,编辑,文件,安装,配置,SAFs,obj,conf,文件,含有,指导,初始,初始化,请求,应答,处理,一步,SAFs,操作,指示,行,directive,line,请求,应答,指示,directives,Object,标记,记分,分成,成对,对象,Objects,组,标签,Object,标签,Object,结束,称为,对象,是因为,继承,对象,行为,缺省,对象,控制,制服,服务,服务器,务器,请求,缺省,操作,对象,特定,请求,继承,修改,缺省,对象,行为,对象,参数,目前,请求,相匹配,匹配,Enabled,一个,对象,标签,签有,name,ppath,两个,参数,可有,通配符,Object,name,cgi,Object
ppath,usr,netscape,suitespot,docs,private,对象,中指,指示,name,参数,default,总是,处于,状态,对象,指示,象,缺省,对象,同种,指示,就让,改变,缺省,对象,行为,指示,行,决定,请求,应答,一步,应,执行,SAF,指示,行,语法,格式,Directive,fn,func,name
,name1,value1,nameN,valueN,Directive,服务,服务器,务器,一个,指示,func,name,执行,SAF,nameN,valueN,传给,SAF,参数,数名,名称,以下,服务,服务器,务器,指示,描述,Init,初始,初始化,服务,服务器,务器,子系统,系统,统和,共享,共享资源,资源,AuthTrans,验证,HTTP,请求,身份,信息,转换,转换成,换成,用户,组,服务,服务器,务器,权限,控制,分为,两个,阶段,先是,AuthTrans,验证,用户,身份,后来,PathCheck,检查,检查用户,用户,所要,要求,资源,存取,权限,NameTrans,请求,URL,转化,化为,物理,文件,文件系统,系统,路径,PathCheck,检查,NameTrans,中所,转化,物理,理路,路径,有效,有效性,存取,权限,ObjectType,决定,请求,资源,MIME,类型,Service,发送,客户,Error,HTTP,错误,REQ,ABORTED,AddLog,记录,录事,事务,事务处,事务处理,处理,信息,创建,SAFs
3,SAF,接口,SAF,相同,C,接口,一步,服务,SAF,请求,应答,处理,一步,实现,特定,功能,函数,obj,conf,文件,server,以前,SAF,接受,参数,下面,SAF,C,接口,int,function,pblock,pb,Session,sn,Request,rq,pb,含有,obj,conf,文件,SAF,配置,置行,参数,sn,含有,单个,TCP,TP,信息,rq,含有,当前,请求,相关,信息,SAF,返回,码表,表示,该函,函数,执行,情况,服务,服务器,务器,返回,码,决定,处理,理当,当前,请求,创建,一个,自定,自定义,定义,SAF
,自定,自定义,定义,SAF,一组,存在,服务,服务器,务器,加载,调用,共享,库,函数,下面,创建,自定,自定义,定义,SAF,步骤,后面,附有,一例,a,NSAPI,编写,自定,自定义,定义,SAF,源程序,程序,一个,SAF,一个,指示,directive,服务,注意,写,SAF,写,线程,安全,thread,safe,程序,阻塞,blocking,可能,影响,服务,服务器,务器,性能,每个,SAF,带有,参数,参数,obj,conf,设置,b,编译,链接,源程序,程序,创建,共享,库,so,sl,or,dll,文件,编译,要用,特定,平台,编译,编译器,Windows,NT,可用,MicrosoftVisual,C++6,服务,服务器,务器,根目录,目录,录下,include,目录,NSAPI,头文件,文件,现在,头文件,文件,信息,包含,nsapi,h,文件,头文件,文件,兼容,简单,包括,nsapi,h,即可,c,修改,obj,conf,文件,配置,服务,服务器,务器,加载,含有,自定,自定义,定义,SAF,共享,库,适当,当时,时调,调用,自定,自定义,定义,SAF,先在,obj,conf,文件,初始,初始化,指示,加下,下面,一行,Init,fn,load,modules,shlib,path,sharedlibname
funcs,SAF1,SAFn,shlib,共享,库,文件,文件系统,系统,路径,funcs,一系,一系列,系列,逗号,分开,库,中加,加载,函数,数名,函数,数名,区分,大小,大小写,小写,再加,加下,下面,一行,适当,当时,时调,调用,自定,自定义,定义,SAF,Directive,fn,func,name
,name1,value1,nameN,valueN,Directive,服务,服务器,务器,一个,指示,func,name,执行,函数,数名,d,停止,再启动,启动,服务,服务器,务器,Windows,NT,控制,控制面板,制面,面板,停止,启动,服务,服务器,务器,unix,可用,命令,stop,start,不能,能用,restart,重新,重新启动,启动,不会,重新,加载,库,e,浏览,浏览器,访问,服务,服务器,务器,测试,自定,自定义,定义,SAF,注意,一定,定要,禁止,cache,功能,Navigator,点击,reload,按钮,按住,shift,键,本例,执行,身份,认证,函数,
#include,base,pblock,h,
#include,base,session,h,
#include,frame,req,h,
typedef,struct,
char,name,
char,pw,user,s,
static,user,s,user,set,joe,shmoe,suzy,creamcheese,NULL,NULL,
#include,frame,log,h,
#ifdef,XP,WIN32
#define,NSAPI,PUBLIC,declspec,dllexport,
#else,XP,WIN32,
#define,NSAPI,PUBLIC
#endif,XP,WIN32,
NSAPI,PUBLIC,int,hardcoded,auth
,pblock,param,Session,sn,Request,rq,用户,身份,认证,得到,参数,
char,pwfile,pblock,findval,userdb,param,
char,user,pblock,findval,user,param,
char,pw,pblock,findval,pw,param,临时,时变,变量,
register,int,x,
for,x,user,set,x,name,NULL,++x,预期,用户,继续,
if,strcmp,user,user,set,x,name,
continue,验证,口令,
if,strcmp,pw,user,set,x,pw,
log,error,LOG,SECURITY,hardcoded,auth,sn,
rq,user,s,entered,wrong,password,user,一次,增强,函数,功能,
return,REQ,NOACTION,返回,REQ,PROCEED,用户,接受,
return,REQ,PROCEED,匹配,一次,
log,error,LOG,SECURITY,hardcoded,auth,sn,rq,unknown,user,s,user,
return,REQ,NOACTION,作者,作者简介,简介,汤,敏,硕士,研究,研究生,研究,方向,计算,计算机,计算机网,计算机网络,算机,网络,信息,通信,系统,郑,纪,蛟,教授,研究,方向,计算,计算机,计算机网,计算机网络,算机,网络,通信,当前,主要,从事,远程,远程教育,教育,研究,作者,单位,浙江,浙江大学,大学,计算,计算机,计算机系,算机,系,浙江,杭州,310027,参考,参考文献,文献,T,Berners,Lee,R,Fielding,H,Nielsen,Hypertext,Transfer,Protocol,HTTP,RFC1945,1996,17,Tony,Beveridge,Paul,Mcglashan,ISAPI,NSAPI,Web,高级,编程,北京,中国,水利,水利水电,利水,水电,出版,出版社,1999,收稿,日期,1999,05,05
