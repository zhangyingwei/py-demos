软件,学报,
JOURNAL,OF,SOFTWARE
1999,No,1999



,一种,适用,用于,机群,机群系统,群系,系统,任务,动态,调度,方法,傅,强,郑,纬,民,摘要,任务,任务调度,调度,机群,机群系统,群系,系统,实现,并行,并行计算,计算,需要,解决,重要,问题,运行,动态,产生,任务,并行,应用,应用程序,程序,作出,准确,任务,任务分配,分配,决策,可能,导致,计算,结点,任务,负载,失衡,最终,引起,整个,系统,性能,显著,下降,需要,任务,再分,分配,维持,负载,负载平衡,平衡,该文,提出,一种,任务,任务分配,分配,再分,分配,配方,方法,尽量,延迟,任务,执行,时刻,任务,再分,分配,避免,进程,迁移,引入,调度,开销,很小,分析,实验,结果表明,表明,方法,多情,情况,能够,有效,提高,并行,并行程序,行程,程序,运行,性能,关键,关键词,调度,机群,机群系统,群系,系统,并行,并行计算,计算,任务,任务分配,分配,负载,负载平衡,平衡,中图,中图法,图法,分类,分类号,TP316
A,Dynamic,Task,Scheduling,Method,in,Cluster,of,Workstations
FU,Qiang,ZHENG,Wei,min
,Abstract,Task,scheduling,is,an,important,issue,in,the,research,of,parallel,computing,in,cluster,of,workstations,Because,it,is,difficult,to,make,precise,decision,of,task,allocation,when,running,parallel,applications,that,dynamically,spawn,tasks,load,imbalance,maybe,occur,and,the,performance,of,whole,system,will,decrease,dramatically,So,task,reallocation,is,necessary,for,load,balancing,A,method,for,task,allocation,and,reallocation,is,presented,in,this,paper,By,deferring,the,task,s,real,start,time,it,avoids,process,migration,in,task,reallocation,Therefore,the,overhead,is,greatly,decreased,Analysis,and,experiments,show,that,this,method,can,effectively,improve,the,performance,of,parallel,applications,in,many,cases,Key,words,Scheduling,cluster,of,workstations,parallel,computing,task,allocation,load,balancing,近年,近年来,年来,工作,工作站,性能,价格,价格比,迅速,提高,快速,局域,局域网,出现,工作,工作站,机群,机群系统,群系,系统,Cluster,of,Workstations,已成,成为,并行,并行计算,计算,一个,重要,发展,方向,机群,机群系统,群系,系统,上进,进行,并行,并行计算,计算,需要,软件,环境,支持,目前,已经,开发,广泛,广泛应用,应用,并行,软件,环境,PVM,parallel,virtual,machine,MPICH,message,passing,interface,消息,消息传递,传递,模式,机群,机群系统,群系,系统,并行,并行计算,计算,并行,并行任务,任务,调度,方案,极大,大地,影响,应用,应用程序,程序,运行,性能,实际,应用,应用领域,领域,机群,机群系统,群系,系统,系统结构,结构,程序,不确定性,确定,确定性,定性,往往,需要,运行,行时,进行,行动,动态,调度,动态,调度,无法,获得,任务,负载,粒度,相互,相互间,同步,通信,关系,准确,确信,信息,作出,任务,任务分配,分配,往往,不够,准确,需要,适当,进行,任务,再分,分配,维持,结点,负载,负载平衡,平衡,并行,系统,PVM,任务,一经,分配,立即,执行,实现,现任,任务,再分,分配,只能,采取,进程,迁移,方式,进程,迁移,难于,异构,结点,实现,开销,十分,庞大,抵消,负载,负载平衡,平衡,带来,性能,提高,本文,提出,一种,消息,消息传递,传递,并行,环境,惰性,任务,任务调度,调度,方法,借助,进程,迁移,实现,低,开销,任务,再分,分配,特点,采用,阻塞,式,任务,派生,方式,缩短,响应,时间,采用,惰性,任务,执行,机制,未,执行,任务,进行,再分,分配,开销,很小,任务,任务分配,分配,再分,分配,采取,本地化,算法,进一步,一步,减小,小调,调度,开销,一定,定情,情况,减小,通信,开销,任务,至多,执行,一次,再分,分配,不会,产生,颠簸,现象,下面,给出,算法,描述,介绍,算法,实现,方案,最后,给出,性能,分析,模拟,模拟实验,实验,算法,描述,惰性,任务,任务调度,调度,方法,任务,任务分配,分配,算法,任务,执行,再分,分配,分配机制,配机,机制,两部,部分,分组,组成,图,所示,任务,任务分配,分配,算法,响应,应用,应用程序,程序,发出,任务,派生,申请,作出,出首,首次,任务,任务分配,分配,决定,任务,执行,机制,决定,时运,运行,任务,一定,条件,分配,任务,进行,调整,任务,再分,分配,

,图,1
1,任务,任务分配,分配,算法,实现,现任,任务,低,开销,再分,分配,实际,实际上,迁移,尚未,执行,任务,实现,要求,任务,分配,立即,执行,进入,就绪,队列,系统,LIFO,last,in,first,out,顺序,队,头,取,任务,执行,任务,结束,等待,未,执行,任务,传送,传送数据,数据,阻塞,取下,一个,任务,执行,CPU,UNIX,系统,采用,时间,片,轮换,换法,调度,用户,进程,这种,多个,任务,串行,执行,时间,并发,执行,行相,相同,本文,文采,采用,任务,任务分配,分配,算法,流程,If,Receive,SPAWN,taskname,接到,派生,任务,taskname,请求,ID,GetID,taskname,创建,对应,taskname,唯一,标识,标识号,Insert,Q,ID,HEAD,ID,插入,就绪,任务,队列,Q,队,头,Ack,ID,应答,派生,任务,请求,返回,ID
,任务,任务分配,分配,配在,目的,减少,少调,调度,开销,通信,尽量,本地化,任务,任务分配,分配,立即,执行,马上,响应,派生,任务,请求,发出,发出请求,请求,进程,能够,继续,继续执行,执行,任务,执行,再分,分配,分配机制,配机,机制,任务,执行,机制,当前,运行,任务,进程,结束,等待,未,执行,任务,传输,传输数据,数据,阻塞,激活,先查,查看,就绪,任务,队列,Q,Q,空,取,队,头,任务,执行,Q,空,进行,任务,再分,分配,结点,申请,任务,申请,结点,Q,空,返回,队,尾,任务,If,Endtask,currentTask,or,Block,currentTask,没有,任务,进程,运行,If,not,empty,Q,currentTask,Get,Q,HEAD,取,队,头,任务,ID,当前,运行,任务,号,else
,currentTask,RequestTask,otherNode,结点,申请,任务,Run,currentTask,执行,任务,If,Receive,REQUESTTASK,结点,申请,任务,If,not,empty,Q,Ack,Get,Q,TAIL,返回,队,尾,任务,执行,机制,运行,任务,申请,结点,任务,时分,采用,LIFO,策略,FIFO,first,in,first,out,策略,任务,派生,关系,看成,一棵,任务,树,执行,任务,采用,LIFO,方式,维持,就绪,任务,集,迁移,任务,采用,FIFO,方式,迁移,移走,任务,任务,树上,更,靠近,根结,结点,也就是说,会派,派生,生出,更多,任务,保护,通信,本地化,Blumofe,分析,表明,大规,大规模,规模,动态,并行,并行计算,计算,此种,方式,能够,获得,接近,线性,加速,速比,结点,就绪,任务,队列,列为,空,结点,轻载,结点,结点,申请,任务,这种,方式,Receiver,Initiated,方式,RI,调度,轻载,结点,承担,发起,任务,再分,分配,开销,RI,方法,系统,平均,负载,较重,情况,能够,有效,减少,少调,调度,开销,申请,结点,任务,过程,任务,再分,分配,过程,申请,立即,执行,任务,保证,一个,任务,最多,再分,分配,一次,实现,方案,通过考察,考察,PVM,API,看出,本文,算法,PVM,系统,实现,概略,接管,PVM,组,原语,PVM,SPAWN,PVM,SEND,PVM,RECEIVE,图,所示,

,图,系统,引入,新,数据,数据结构,结构,派生,任务,队列,Q,发送,消息,缓冲,队列,Qs,接管,组,原语,描述,PVM,SPAWN
,系统,应用,应用程序,程序,返回,一个,任务,标识,标识号,ID,插入,入队,队列,Q,PVM,SEND
,查看,队列,Q,if,目标,任务,激活,调用,PVM,消息,发送,原语,进行,发送,else,if,Qs,满,挂起,执行,调度,else
,插入,入队,队列,Qs,PVM,RECEIVE
,查看,看相,相关,结点,队列,Q,if,目标,任务,激活,调用,PVM,消息,接收,原语,进行,接收,else,挂起,执行,调度,性能,分析,任务,任务调度,调度,目的,达到,负载,负载平衡,平衡,缩短,并行,并行程序,行程,程序,运行,行时,时间,获得,更,高,加速,速比,下面,PVM,系统,讨论,论本,本文,任务,再分,分配,配方,方法,性能,考虑,任务,通信,应用,应用程序,程序,程序包,包含,n,独立,任务,粒度,gi,i,n,并行,系统,统包,包括,m,CPU,工作,工作站,结点,计算,计算能力,能力,cj,j,m,结点,j,单独,执行,任务,i,响应,时间,tj,gi,gi,cj,PVM,采用,Round,Robin,转轮,轮法,一次,一次性,分配,分配任务,任务,抽屉,原理,分配,配到,每个,结点,任务,数,Nj,j,m,之间,任意,两个,结点,分配,配到,任务,集合,粒度,可能,相差,很大,导致,运行,行时,时间,相差,很多,不能,保证,负载,负载平衡,平衡,结点,j,运行,分配,配到,Nj,任务,时间,Tj,并行,加速,速比,S,最快,结点,运行,整个,应用,应用程序,程序,所需,时间,并行,并行执行,执行,行时,最晚,结束,结点,运行,行时,时间,比值,

,中分,分子,子部,部分,一个,常数,设为,C,坏,情况,并行,并行计算,计算,中分,分配,配在,最慢,结点,任务,粒度,远远,远大,远大于,大于,任务,可得,cfast,cslow,最快,最慢,结点,计算,计算能力,能力,l,分配,配在,最慢,结点,任务,粒度,应用,应用程序,程序,粒度,之比,看出,机群,机群系统,群系,系统,结点,计算,计算能力,能力,相差,较大,任务,粒度,不均,PVM,可能,获得,远远,小于,最差,加速,速比,也就是说,并行,行时,性能,如在,最快,一个,结点,运行,性能,下面,一下,采用,本文,文中,算法,情况,证明,最早,结束,结点,a,运行,行时,时间,Ta,最晚,结束,结点,b,运行,行时,时间,Tb,差,tslow,gmax,gmax,应用,应用程序,程序,最大,任务,粒度,tslow,gmax,最慢,结点,运行,gmax,时间,证明,反证,反证法,证法,假设,tslow,gmax,结点,a,运行,结束,结点,b,正在,运行,不可,可能,最后,一个,任务,也就是说,队列,Q,未,开始运行,运行,任务,是因为,任务,x,执行,行时,时间,tb,gx,小于,等于,tslow,gmax,算法,结点,a,结点,b,申请,运行,任务,意味,意味着,结点,a,并未,运行,结束,前提,矛盾,上面,结论,保证,结点,运行,行时,时间,不会,相差,相差太大,太大,实现,负载,负载平衡,平衡,加速,速比,比来,最快,结点,运行,任务,集,总任务,任务,集,子集,运行,行时,时间,不会,超过,常数,C,结合,合上,上面,结论,可得,

,也就是说,坏,情况,并行,行运,运算,时间,最快,一个,结点,串行,行运,运行,行相,相当,模拟,模拟实验,实验,本文,文中,提出,调度,方法,PVM,任务,任务分配,分配,策略,进行,性能,比较,实验,模拟,以下,环境,结点,机群,机群系统,群系,系统,结点,计算,计算能力,能力,比值,任务,序列,列为,随机,产生,树形,序列,参数,k,调整,任务,派生,时间,间隔,k,表示,任务,派生,间隔,长,k,表示,任务,派生,平均,时间,间隔,任务,平均,计算,粒度,相等,任意,两个,任务,可能,存在,通信,同步,关系,参数,c,调整,任务,通信,依赖,关系,c,任务,通信,依赖,依赖性,强,c,表示,任意,两个,任务,存在,通信,关系,c,图,模拟,模拟实验,实验,测试,图,一个,个数,数据,据点,代表,一次,模拟,纵坐标,坐标,表示,使用,PVM,调度,策略,运行,行时,时间,采用,本文,调度,方法,运行,行时,时间,之比,简单,实验,忽略,网络,网络通信,通信,时延,调度,系统,开销,

,图,图,看到,使用,本文,调度,方法,提高,高程,程序,并行,并行性,性能,看到,方法,任务,间通信,通信,关系,简单,任务,任务分配,分配,频度,高,应用,应用程序,程序,效果,较为,显著,机群,机群系统,群系,系统,并行,并行计算,计算,实现,负载,负载平衡,平衡,问题,本文,提出,一个,低,开销,任务,任务调度,调度,方法,方法,采用,惰性,任务,执行,机制,影响,并行,并行性,前提,提下,尽量,延迟,就绪,任务,实际,执行,并行,并行计算,计算,过程,未,执行,任务,进行,重新,重新分配,分配,分析,实验,结果表明,表明,方法,一定,条件,达到,性能,方法,利用,PVM,系统,实现,本文,研究,得到,国防,国防科,国防科技,科技,预研,基金,资助,作者,介绍,傅,强,1970,生,博士,博士生,主要,研究,领域,并行,并行处理,处理,负载,负载平衡,平衡,郑,纬,民,1946,生,教授,博士,博士生,导师,主要,研究,领域,并行,分布,处理,本文,通讯,通讯联系,联系,联系人,傅,强,北京,100084,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,应用,教研,教研组,作者,单位,傅,强,郑,纬,民,清华,清华大学,华大,大学,计算,计算机,计算机科学,算机,科学,技术,系,北京,100084
,参考,参考文献,文献,Geist,A,Beguelin,A,Dongarra,et,al,PVM,Parallel,Virtual,Machine,Cambridge,The,MIT,Press,1994,19
,Blumofe,R,D,Park,D,S,Scheduling,large,scale,parallel,computations,on,networks,of,workstations,Technical,Report,
Massachusetts,Institute,of,Technology,1994,Willebeek,Lemair,H,Reeves,A,P,Strategies,for,dynamic,load,balancing,on,highly,parallel,computers,IEEE,Transactions,
on,Parallel,and,Distributed,Systems,1993,979,993
,本文,1997,11,05,收到,原稿,1998,01,23,收到,修改,修改稿,改稿